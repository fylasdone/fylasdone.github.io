<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>vue基础快速上手 | 冯XX</title><meta name="author" content="Fylasd"><meta name="copyright" content="Fylasd"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="Vue快速上手1. Vue简介Vue (读音 &#x2F;vjuː&#x2F;，类似于 view) 是一套用于构建用户界面的渐进式框架。与其它大型框架不同的是，Vue 被设计为可以自底向上逐层应用。Vue 的核心库只关注视图层，不仅易于上手，还便于与第三方库或既有项目整合。另一方面，当与现代化的工具链以及各种支持类库结合使用时，Vue 也完全能够为复杂的单页应用提供驱动。 如果你想在深入学习 Vue 之前对它有更多了">
<meta property="og:type" content="article">
<meta property="og:title" content="vue基础快速上手">
<meta property="og:url" content="https://www.fixbox.top/2024/01/22/2-8-vue%E5%9F%BA%E7%A1%80%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/index.html">
<meta property="og:site_name" content="冯XX">
<meta property="og:description" content="Vue快速上手1. Vue简介Vue (读音 &#x2F;vjuː&#x2F;，类似于 view) 是一套用于构建用户界面的渐进式框架。与其它大型框架不同的是，Vue 被设计为可以自底向上逐层应用。Vue 的核心库只关注视图层，不仅易于上手，还便于与第三方库或既有项目整合。另一方面，当与现代化的工具链以及各种支持类库结合使用时，Vue 也完全能够为复杂的单页应用提供驱动。 如果你想在深入学习 Vue 之前对它有更多了">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img2.baidu.com/it/u=3725066843,1857864369&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500">
<meta property="article:published_time" content="2024-01-22T07:03:45.175Z">
<meta property="article:modified_time" content="2024-01-22T07:07:57.129Z">
<meta property="article:author" content="Fylasd">
<meta property="article:tag" content="vue基础快速上手">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img2.baidu.com/it/u=3725066843,1857864369&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500"><link rel="shortcut icon" href="https://img1.baidu.com/it/u=2559221203,2316879426&fm=253&fmt=auto&app=138&f=PNG?w=400&h=400"><link rel="canonical" href="https://www.fixbox.top/2024/01/22/2-8-vue%E5%9F%BA%E7%A1%80%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.12.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.32/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":true,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体中文","cht_to_chs":"你已切换为简体中文","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"top-right"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'vue基础快速上手',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-01-22 15:07:57'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><div id="myscoll"></div><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-double-row-display@1.00/cardlistpost.min.css"/>
<style>#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags:before {content:"\A";
  white-space: pre;}#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags > .article-meta__separator{display:none}</style>
<link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.css" /><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-categories-card@1.0.0/lib/categorybar.css"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><link rel="stylesheet" href="https://unpkg.zhimg.com/hexo-butterfly-footer-beautify@1.0.0/lib/runtime.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload="this.media='screen'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img2.baidu.com/it/u=3725066843,1857864369&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=500&amp;h=500" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">22</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">22</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-envelope-open"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="冯XX"><span class="site-name">冯XX</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-envelope-open"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">vue基础快速上手</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-01-22T07:03:45.175Z" title="发表于 2024-01-22 15:03:45">2024-01-22</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-22T07:07:57.129Z" title="更新于 2024-01-22 15:07:57">2024-01-22</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/web%E5%89%8D%E7%AB%AF/">web前端</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">14.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>76分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="vue基础快速上手"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="Vue快速上手"><a href="#Vue快速上手" class="headerlink" title="Vue快速上手"></a>Vue快速上手</h1><h2 id="1-Vue简介"><a href="#1-Vue简介" class="headerlink" title="1. Vue简介"></a>1. Vue简介</h2><p>Vue (读音 /vjuː/，类似于 <strong>view</strong>) 是一套用于构建用户界面的<strong>渐进式框架</strong>。与其它大型框架不同的是，Vue 被设计为可以自底向上逐层应用。Vue 的核心库只关注视图层，不仅易于上手，还便于与第三方库或既有项目整合。另一方面，当与<a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/single-file-components.html">现代化的工具链</a>以及各种<a target="_blank" rel="noopener" href="https://github.com/vuejs/awesome-vue#libraries--plugins">支持类库</a>结合使用时，Vue 也完全能够为复杂的单页应用提供驱动。</p>
<p>如果你想在深入学习 Vue 之前对它有更多了解，我们<a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/index.html#">制作了一个视频</a>，带您了解其核心概念和一个示例工程。</p>
<p>如果你已经是有经验的前端开发者，想知道 Vue 与其它库/框架有哪些区别，请查看<a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/comparison.html">对比其它框架</a>。</p>
<h2 id="2-Vue2-3安装"><a href="#2-Vue2-3安装" class="headerlink" title="2. Vue2-3安装"></a>2. Vue2-3安装</h2><ol>
<li><p>官网—-&gt;<a target="_blank" rel="noopener" href="https://cn.vuejs.org">安装 — Vue.js (vuejs.org)</a></p>
</li>
<li><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="assets\image-20220206120148991.png" alt="image-20220206120148991"></p>
</li>
<li><p>在官网上    <a target="_blank" rel="noopener" href="https://nodejs.org/en/">Node.js (nodejs.org)</a>   中下载nodejs</p>
</li>
<li><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="assets\image-20220206120422910.png" alt="image-20220206120422910"></p>
<h4 id="使用淘宝-NPM-镜像"><a href="#使用淘宝-NPM-镜像" class="headerlink" title="使用淘宝**NPM 镜像**"></a><strong>使用淘宝**</strong>NPM<strong> </strong>镜像**</h4><p>大家都知道国内直接使用npm 的官方镜像是非常慢的，这里推荐使用淘宝 NPM 镜像。</p>
<p>$ npm install -g cnpm —registry=<a target="_blank" rel="noopener" href="https://registry.npm.taobao.org">https://registry.npm.taobao.org</a></p>
<p>这样就可以使用cnpm 命令来安装模块了：</p>
</li>
</ol>
<p>   作者：程序员是粉色的<br>   链接：<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/02b12c600c7b">https://www.jianshu.com/p/02b12c600c7b</a><br>   来源：简书<br>   著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>
<ol>
<li><p>安装vue-cli</p>
<p>cnpm install vue-cli -g   //全局安装 vue-cli</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://upload-images.jianshu.io/upload_images/11329965-094a17436eaf17f8.png?imageMogr2/auto-orient/strip|imageView2/2/w/729/format/webp" alt="img"></p>
<p>查看vue-cli是否成功，不能检查vue-cli,需要检查vue</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://upload-images.jianshu.io/upload_images/11329965-ae7cd3b0e279c411.png?imageMogr2/auto-orient/strip|imageView2/2/w/822/format/webp" alt="img"></p>
</li>
</ol>
<h2 id="3-Vue2-3项目创建"><a href="#3-Vue2-3项目创建" class="headerlink" title="3.Vue2-3项目创建"></a>3.Vue2-3项目创建</h2><p><strong>详细步骤到网上搜</strong></p>
<p>①第一种方法：</p>
<p>vue create  ”项目名称“   回车</p>
<p>然后选择vue2或vue3</p>
<p>在VS Code中运行vue项目  npm run serve</p>
<p>②第二种方法：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/651434092qq/p/11090737.html">vue开发搭建（npm安装 + vue脚手架安装） - 咸咸海风 - 博客园 (cnblogs.com)</a></p>
<p>1、下载npm软件，URL: <a target="_blank" rel="noopener" href="https://nodejs.org/en/">https://nodejs.org/en/</a></p>
<p>3、查看npm版本： npm -v</p>
<p>4、查看npm的本地仓库： npm list –global</p>
<p>5、修改npm的本地仓库：</p>
<p><strong>npm config set prefix  “D:\Program Files\nodejs\node_global”</strong></p>
<p><strong>npm config set cache  “D:\Program Files\nodejs\node_cache”</strong></p>
<p><strong>这里修改仓库到d**</strong>盘，成功**</p>
<p>6、检查一下镜像站行不行命令1</p>
<p>输入命令：npm config get registry</p>
<p>7、检查一下镜像站行不行命令2， 获取vue信息（此时并非安装）</p>
<p>输入命令：npm info vue</p>
<p>8、安装更新模块，命令：npm install npm –g</p>
<p>9、验证vue是否安装成功, 命令: vue -V</p>
<p>10、初始化vue 项目</p>
<p>注意：vue-cli工具是内置了模板包括 webpack 和 webpack-simple,前者是比较复杂专业的项目，他的配置并不全放在根目录下的 webpack.config.js 中。</p>
<p>11、切换到d盘根目录，并输入： vue init webpack vue01</p>
<p>12、进入目录vue01, 初始化并输入命令:npm install安装依赖</p>
<p>13、输入命令：npm run dev</p>
<p>14、成功界面，提示打开地址 <a target="_blank" rel="noopener" href="http://localhost:8080">http://localhost:8080</a></p>
<p>注意 这里要在sell下进行安装和运行哦!!!</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img2018.cnblogs.com/blog/612637/201906/612637-20190626162857221-1024504157.png" alt="img"></p>
<h2 id="4-常用npm"><a href="#4-常用npm" class="headerlink" title="4.常用npm"></a>4.常用npm</h2><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">vue npm 安装指令汇总</span><br><span class="line"></span><br><span class="line">1.elmentui：npm i element-ui -S</span><br><span class="line"></span><br><span class="line">2.npm install vuex --save</span><br><span class="line"></span><br><span class="line">3.打印插件：npm install vue-print-nb --save</span><br><span class="line"></span><br><span class="line">4.时间转换插件：Moment：npm install moment</span><br><span class="line"></span><br><span class="line">5.vue-cookies：npm install vuew-cookies --save</span><br><span class="line"></span><br><span class="line">6.axios：npm install axios</span><br><span class="line"></span><br><span class="line">7.导入导出下载：npm install js-file-download</span><br><span class="line"></span><br><span class="line">8.css用less写的，安装：npm install --save less less-loader</span><br><span class="line">1、在main.js</span><br><span class="line">import less from &#x27;less&#x27;</span><br><span class="line">Vue.use(less)</span><br><span class="line">2、&lt;style lang=&quot;less&quot;&gt;</span><br><span class="line"></span><br><span class="line">9.css用sass写的，安装：npm install sass-loader --save-dev //存放在dev文件里</span><br><span class="line">  安装：npm install node-loader --save-dev</span><br><span class="line"> 用法同上</span><br><span class="line"></span><br><span class="line">10.服务器与浏览器双向通讯数据发送安装：npm install sockjs-client</span><br><span class="line">npm install stompjs</span><br></pre></td></tr></table></figure>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">淘宝镜像使用方法</span><br><span class="line">方法一：临时使用</span><br><span class="line">npm --registry https://registry.npm.taobao.org install express</span><br><span class="line">方法一：临时使用</span><br><span class="line">npm --registry https://registry.npm.taobao.org install express</span><br><span class="line">配置后可通过下面方式来验证是否成功 </span><br><span class="line">npm config get registry或 npm info express</span><br><span class="line">方法三：通过cnpm使用</span><br><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br><span class="line">执行语句后，可通过</span><br><span class="line">cnpm install express</span><br><span class="line">安装包了。</span><br><span class="line">取消淘宝镜像，可以使用</span><br><span class="line">npm config set registry https://registry.npmjs.org/</span><br></pre></td></tr></table></figure>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">启动项目 npm</span><br></pre></td></tr></table></figure>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line">vue npm 使用指令汇总</span><br><span class="line"></span><br><span class="line"># 查看 npm 的版本 </span><br><span class="line">$ npm -v  //6.4.0 &lt;&lt; 安装成功会返回版本号</span><br><span class="line"># 查看各个命令的简单用法</span><br><span class="line">$ npm -l </span><br><span class="line"># 查看 npm 命令列表</span><br><span class="line">$ npm help</span><br><span class="line"># 查看 npm 的配置</span><br><span class="line">$ npm config list -l</span><br><span class="line">$ npm set init-author-name &#x27;my name jerry&#x27;</span><br><span class="line">$ set init-author-email &#x27;12345@qq.com&#x27;</span><br><span class="line">$ set init-author-url &#x27;http://yourdomain.com&#x27;</span><br><span class="line">$ npm set init-license &#x27;MIT&#x27;</span><br><span class="line">执行了以上的修改，此时 Package.json并没有发生变化</span><br><span class="line">//设置后执行init才是真正修改成功</span><br><span class="line">$ npm init</span><br><span class="line">$ npm search &lt;搜索词&gt; [-g]</span><br><span class="line">#当前项目安装的所有模块</span><br><span class="line">$npm list</span><br><span class="line">#列出全局安装的模块 带上[--depth 0] 不深入到包的支点 更简洁</span><br><span class="line">$ npm list -g --depth 0</span><br><span class="line"># 读取package.json里面的配置单安装  </span><br><span class="line">$ npm install </span><br><span class="line">//可简写成 npm i</span><br><span class="line"># 默认安装指定模块的最新(@latest)版本</span><br><span class="line">$ npm install [&lt;@scope&gt;/]&lt;name&gt; </span><br><span class="line">//eg:npm install gulp</span><br><span class="line"># 安装指定模块的指定版本</span><br><span class="line">$ npm install [&lt;@scope&gt;/]&lt;name&gt;@&lt;version&gt;</span><br><span class="line">//eg: npm install gulp@3.9.1</span><br><span class="line"># 安装指定指定版本范围内的模块</span><br><span class="line">$ npm install [&lt;@scope&gt;/]&lt;name&gt;@&lt;version range&gt;</span><br><span class="line">//eg: npm install vue@&quot;&gt;=1.0.28 &lt; 2.0.0&quot;</span><br><span class="line"># 安装指定模块的指定标签 默认值为(@latest)</span><br><span class="line">$ npm install [&lt;@scope&gt;/]&lt;name&gt;@&lt;tag&gt;</span><br><span class="line">//eg:npm install sax@0.1.1</span><br><span class="line"># 通过Github代码库地址安装</span><br><span class="line">$ npm install &lt;tarball url&gt;</span><br><span class="line">//eg:npm install git://github.com/package/path.git</span><br><span class="line">#卸载当前项目或全局模块 </span><br><span class="line">$ npm uninstall &lt;name&gt; [-g] </span><br><span class="line">eg: npm uninstall gulp --save-dev  </span><br><span class="line">    npm i gulp -g</span><br><span class="line">卸载后，你可以到 /node\_modules/ 目录下查看包是否还存在，或者使用以下命令查看：</span><br><span class="line">npm ls 查看安装的模块</span><br><span class="line">#升级当前项目或全局的指定模块</span><br><span class="line">$ npm update &lt;name&gt; [-g] </span><br><span class="line">//eg: npm update express </span><br><span class="line">      npm update express -g      </span><br><span class="line"># 引用依赖 有些包是全局安装了，在项目里面只需要引用即可。</span><br><span class="line">$ npm link [&lt;@scope&gt;/]&lt;pkg&gt;[@&lt;version&gt;]</span><br><span class="line">//eg: 引用   npm link gulp gulp-ssh gulp-ftp</span><br><span class="line">//eg: 解除引用 npm unlink gulp</span><br><span class="line"># 引用模块 本人用得少没深入说了 用得上时可去翻文档例子</span><br><span class="line">$ npm link (in package dir)</span><br><span class="line">八、npm run 执行脚本</span><br><span class="line">package.json的scripts字段，可以用于指定脚本命令，供npm直接调用。npm run会创建一个Shell，执行指定的命令。</span><br><span class="line">两个命令简写，start和test属于特殊命令，可以省略run,其余的都得带上run。</span><br><span class="line">npm run的参数。</span><br><span class="line">如果不加任何参数，直接运行，会列出package.json里面所有可以执行的脚本命令</span><br><span class="line">---package.json文件---</span><br><span class="line">&#123;</span><br><span class="line">    &quot;name&quot;: &quot;npm_test&quot;,</span><br><span class="line">    &quot;version&quot;: &quot;1.0.0&quot;,</span><br><span class="line">    &quot;config&quot;: &#123;</span><br><span class="line">        &quot;reporter&quot;: &quot;xunit&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;script&quot;:&#123;</span><br><span class="line">        &quot;bundle&quot;: &quot;mkdir -p build/$npm_package_version/&quot;,</span><br><span class="line">        //$npm_package_version 读的是外层&quot;version&quot;的值，同理$npm_package_name 读的是外层&quot;name&quot;的值</span><br><span class="line">        &quot;test&quot;: &quot;mocha test/ --reporter $npm_package_config_reporter&quot;</span><br><span class="line">        //$npm_package_config_reporter读的是&quot;config&quot;里的&quot;reporter&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">pre-和post-两个钩子（hook）</span><br><span class="line">npm会先查看有没有定义prelint和postlint两个钩子，如果有的话，就会</span><br><span class="line">先执行npm run pre-命令名，然后执行npm run 命令名，最后执行npm run post-命令名。</span><br><span class="line">---package.json文件---</span><br><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;lint&quot;: &quot;eslint --cache --ext .js --ext .jsx src&quot;,</span><br><span class="line">    &quot;test&quot;: &quot;karma start --log-leve=error karma.config.js --single-run=true&quot;,</span><br><span class="line">    &quot;pretest&quot;: &quot;npm run lint&quot;,</span><br><span class="line">    &quot;posttest&quot;: &quot;echo &#x27;Finished running tests&#x27;&quot;</span><br><span class="line">  &#125;</span><br><span class="line">-------终端-------</span><br><span class="line">$ npm run lint</span><br><span class="line">//直接执行 npm run lint 结束</span><br><span class="line">$ npm run test</span><br><span class="line">//因为有定义了两个钩子pretest、posttest。</span><br><span class="line">//所以先执行 npm run pretest</span><br><span class="line">//然后执行 npm run test</span><br><span class="line">//最后执行 npm run posttest</span><br><span class="line">九、npm publish 发布模块</span><br><span class="line"># 未注册 申请注册一个用户 直接在https://www.npmjs.com/注册一样</span><br><span class="line">$ npm adduser</span><br><span class="line">//执行后 填写几个问题 Username、Password、Email</span><br><span class="line">#已注册</span><br><span class="line">$ npm login </span><br><span class="line">#发布</span><br><span class="line">$ npm publish</span><br></pre></td></tr></table></figure>
<h1 id="vue知识点"><a href="#vue知识点" class="headerlink" title="*vue知识点"></a>*vue知识点</h1><p>*创建vue脚手架</p>
<p>=&gt;安装npm</p>
<p>=&gt;安装node.js</p>
<p>=&gt;安装vue-cli </p>
<p>npm install vue-cli -g   //全局安装 vue-cli</p>
<p>=&gt;创建 vue create  ”项目名称“ </p>
<p>=&gt;运行vue项目  npm run serve</p>
<p>npm rebuild node-sass</p>
<p>=&gt;安装常用图标 npm install font—awesome</p>
<h2 id="vue项目通用"><a href="#vue项目通用" class="headerlink" title="*vue项目通用"></a>*vue项目通用</h2><p>创建vue项目选择条件引用Element-UI时所用到通用部分</p>
<p>=&gt;vue.config.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> proxyObj = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">proxyObj[<span class="string">&#x27;/&#x27;</span>] = &#123;</span><br><span class="line">    <span class="comment">//wbsocket</span></span><br><span class="line">    <span class="attr">ws</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="comment">//  目标地址</span></span><br><span class="line">    <span class="comment">//target: &#x27;http://localhost:8081&#x27;,</span></span><br><span class="line">    <span class="attr">target</span>: <span class="string">&#x27;http://dongeast.top:8181&#x27;</span>,</span><br><span class="line">    <span class="comment">//  发送请求头host会被设置target</span></span><br><span class="line">    <span class="attr">changeOrigin</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">//  不重写请求地址</span></span><br><span class="line">    <span class="attr">pathWewrite</span>: &#123;</span><br><span class="line">        <span class="string">&quot;^/&quot;</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line">proxyObj[<span class="string">&#x27;/ws&#x27;</span>] = &#123;</span><br><span class="line">    <span class="attr">ws</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">target</span>: <span class="string">&#x27;ws://dongeast.top:8181&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">devServer</span>: &#123;</span><br><span class="line">        <span class="attr">host</span>: <span class="string">&quot;localhost&quot;</span>,</span><br><span class="line">        <span class="attr">port</span>: <span class="number">8080</span>,</span><br><span class="line">        <span class="attr">proxy</span>: proxyObj,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>=&gt;main.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ElementUI</span> <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;element-ui/lib/theme-chalk/index.css&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">ElementUI</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//可在此放置路由前置守卫</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  router,</span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>=&gt;router.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Login</span> <span class="keyword">from</span> <span class="string">&#x27;../views/Login&#x27;</span> </span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueRouter</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> routes = [&#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">            <span class="attr">name</span>:<span class="string">&#x27;Login&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>:<span class="title class_">Login</span>,</span><br><span class="line">            <span class="attr">children</span>: [</span><br><span class="line">            <span class="comment">/*&#123;</span></span><br><span class="line"><span class="comment">            path: &#x27;/chat&#x27;,</span></span><br><span class="line"><span class="comment">            name: &#x27;在线聊天&#x27;,</span></span><br><span class="line"><span class="comment">            component: FriendChat,</span></span><br><span class="line"><span class="comment">            &#125;, */</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">path</span>: <span class="string">&#x27;/adminInfo&#x27;</span>,</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&#x27;个人中心&#x27;</span>,</span><br><span class="line">                <span class="attr">component</span>: <span class="title class_">AdminInfo</span></span><br><span class="line">            &#125;]</span><br><span class="line">        &#125;,</span><br><span class="line">        ...,</span><br><span class="line">        ...,</span><br><span class="line">        ...,</span><br><span class="line">    ]</span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    routes</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> originalPush = <span class="title class_">VueRouter</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">push</span>;</span><br><span class="line"><span class="title class_">VueRouter</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">push</span> = <span class="keyword">function</span> <span class="title function_">push</span>(<span class="params">location</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> originalPush.<span class="title function_">call</span>(<span class="variable language_">this</span>, location).<span class="title function_">catch</span>(<span class="function">(<span class="params">err</span>) =&gt;</span> err);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure>
<p>=&gt;api.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios  <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Loading</span>, <span class="title class_">Message</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;../router&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  请求拦截器</span></span><br><span class="line">axios.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(<span class="function"><span class="params">success</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;tokenStr&#x27;</span>)) &#123;</span><br><span class="line">        success.<span class="property">headers</span>[<span class="string">&#x27;Authorization&#x27;</span>] = <span class="variable language_">window</span>.<span class="property">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;tokenStr&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> success;</span><br><span class="line">&#125;, <span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//响应拦截器</span></span><br><span class="line">axios.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(<span class="function"><span class="params">success</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//业务逻辑错误</span></span><br><span class="line">    <span class="keyword">if</span>(success.<span class="property">status</span> &amp;&amp; success.<span class="property">status</span> == <span class="number">200</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(success.<span class="property">data</span>.<span class="property">code</span> == <span class="number">500</span> || success.<span class="property">data</span>.<span class="property">code</span> == <span class="number">401</span> || success.<span class="property">data</span>.<span class="property">code</span> == <span class="number">403</span>)&#123;</span><br><span class="line">            <span class="title class_">Message</span>.<span class="title function_">error</span>(&#123;<span class="attr">message</span>:success.<span class="property">data</span>.<span class="property">message</span>&#125;);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(success.<span class="property">data</span>.<span class="property">message</span>)&#123;</span><br><span class="line">            <span class="title class_">Message</span>.<span class="title function_">success</span>(&#123;<span class="attr">message</span>:success.<span class="property">data</span>.<span class="property">message</span>&#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> success.<span class="property">data</span>;</span><br><span class="line">&#125;,<span class="function"><span class="params">error</span> =&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(error.<span class="property">response</span>.<span class="property">code</span> == <span class="number">504</span> || error.<span class="property">response</span>.<span class="property">code</span> == <span class="number">404</span>)&#123;</span><br><span class="line">        <span class="title class_">Message</span>.<span class="title function_">error</span>(&#123;<span class="title class_">Message</span>:<span class="string">&#x27;服务器错误!&#x27;</span>&#125;);</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(error.<span class="property">response</span>.<span class="property">code</span> == <span class="number">403</span>)&#123;</span><br><span class="line">        <span class="title class_">Message</span>.<span class="title function_">error</span>(&#123;<span class="attr">message</span>:<span class="string">&#x27;权限不足,请联系管理员!&#x27;</span>&#125;)</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(error.<span class="property">response</span>.<span class="property">code</span> == <span class="number">401</span>)&#123;</span><br><span class="line">        <span class="title class_">Message</span>.<span class="title function_">error</span>(&#123;<span class="attr">message</span>:<span class="string">&#x27;尚未登录,请登录!&#x27;</span>&#125;)</span><br><span class="line">        router.<span class="title function_">replace</span>(<span class="string">&#x27;/&#x27;</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(error.<span class="property">response</span>.<span class="property">data</span>.<span class="property">message</span>)&#123;</span><br><span class="line">            <span class="title class_">Message</span>.<span class="title function_">error</span>(&#123;<span class="attr">message</span>:error.<span class="property">response</span>.<span class="property">data</span>.<span class="property">message</span>&#125;)</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="title class_">Message</span>.<span class="title function_">error</span>(&#123;<span class="attr">message</span>:<span class="string">&#x27;未知错误!&#x27;</span>&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> base = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//传送json格式的post请求</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">postRequest</span> = (<span class="params">url,params</span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">axios</span>(&#123;</span><br><span class="line">        <span class="attr">method</span>:<span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">        <span class="attr">url</span>:<span class="string">`<span class="subst">$&#123;base&#125;</span><span class="subst">$&#123;url&#125;</span>`</span>,</span><br><span class="line">        <span class="attr">data</span>:params</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//传送json格式的put请求</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">putRequest</span> = (<span class="params">url, params</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">axios</span>(&#123;</span><br><span class="line">        <span class="attr">method</span>: <span class="string">&#x27;put&#x27;</span>,</span><br><span class="line">        <span class="attr">url</span>: <span class="string">`<span class="subst">$&#123;base&#125;</span><span class="subst">$&#123;url&#125;</span>`</span>,</span><br><span class="line">        <span class="attr">data</span>: params</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//传送json格式的get请求</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getRequest</span> = (<span class="params">url, params</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">axios</span>(&#123;</span><br><span class="line">        <span class="attr">method</span>: <span class="string">&#x27;get&#x27;</span>,</span><br><span class="line">        <span class="attr">url</span>: <span class="string">`<span class="subst">$&#123;base&#125;</span><span class="subst">$&#123;url&#125;</span>`</span>,</span><br><span class="line">        <span class="attr">data</span>: params,</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//传送json格式的delete请求</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">deleteRequest</span> = (<span class="params">url, params</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">axios</span>(&#123;</span><br><span class="line">        <span class="attr">method</span>: <span class="string">&#x27;delete&#x27;</span>,</span><br><span class="line">        <span class="attr">url</span>: <span class="string">`<span class="subst">$&#123;base&#125;</span><span class="subst">$&#123;url&#125;</span>`</span>,</span><br><span class="line">        params,</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>=&gt;App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;router-view /&gt;</span><br><span class="line">      &lt;!-- 默认跳转 --&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    name: &#x27;App&#x27;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="选择导航器"><a href="#选择导航器" class="headerlink" title="*选择导航器"></a>*选择导航器</h2><p>menu.js部分</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; getRequest &#125; <span class="keyword">from</span> <span class="string">&quot;./api&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">initMenu</span> = (<span class="params">router, store</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (store.<span class="property">state</span>.<span class="property">routes</span>.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">getRequest</span>(<span class="string">&quot;/system/cfg/menu&quot;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (data) &#123;</span><br><span class="line">            <span class="comment">//  格式化Router</span></span><br><span class="line">            <span class="keyword">let</span> fmtRoutes = <span class="title function_">formatRoutes</span>(data);</span><br><span class="line">            <span class="comment">// 添加到路由</span></span><br><span class="line">            router.<span class="title function_">addRoutes</span>(fmtRoutes);</span><br><span class="line">            <span class="comment">//将数据存入vuex</span></span><br><span class="line">            store.<span class="title function_">commit</span>(<span class="string">&#x27;initRoutes&#x27;</span>, fmtRoutes);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  routes是从后端接收过来的data数据</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">formatRoutes</span> = (<span class="params">routes</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> fmtRoutes = [];</span><br><span class="line">    routes.<span class="title function_">forEach</span>(<span class="function"><span class="params">router</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> &#123;</span><br><span class="line">            path,</span><br><span class="line">            component,</span><br><span class="line">            name,</span><br><span class="line">            iconCls,</span><br><span class="line">            children</span><br><span class="line">        &#125; = router;</span><br><span class="line">        <span class="keyword">if</span> (children &amp;&amp; children <span class="keyword">instanceof</span> <span class="title class_">Array</span>) &#123;</span><br><span class="line">            <span class="comment">// 递归</span></span><br><span class="line">            children = <span class="title function_">formatRoutes</span>(children);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">let</span> fmRouter = &#123;</span><br><span class="line">            <span class="attr">path</span>: path,</span><br><span class="line">            <span class="attr">name</span>: name,</span><br><span class="line">            <span class="attr">iconCls</span>: iconCls,</span><br><span class="line">            <span class="attr">children</span>: children,</span><br><span class="line">            <span class="title function_">component</span>(<span class="params">resolve</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (component.<span class="title function_">startsWith</span>(<span class="string">&#x27;Home&#x27;</span>)) &#123;</span><br><span class="line">                    <span class="built_in">require</span>([<span class="string">&#x27;../views/&#x27;</span> + component + <span class="string">&#x27;.vue&#x27;</span>], resolve);</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (component.<span class="title function_">startsWith</span>(<span class="string">&#x27;Emp&#x27;</span>)) &#123;</span><br><span class="line">                    <span class="built_in">require</span>([<span class="string">&#x27;../views/emp/&#x27;</span> + component + <span class="string">&#x27;.vue&#x27;</span>], resolve);</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (component.<span class="title function_">startsWith</span>(<span class="string">&#x27;Per&#x27;</span>)) &#123;</span><br><span class="line">                    <span class="built_in">require</span>([<span class="string">&#x27;../views/per/&#x27;</span> + component + <span class="string">&#x27;.vue&#x27;</span>], resolve);</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (component.<span class="title function_">startsWith</span>(<span class="string">&#x27;Sal&#x27;</span>)) &#123;</span><br><span class="line">                    <span class="built_in">require</span>([<span class="string">&#x27;../views/sal/&#x27;</span> + component + <span class="string">&#x27;.vue&#x27;</span>], resolve);</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (component.<span class="title function_">startsWith</span>(<span class="string">&#x27;Sta&#x27;</span>)) &#123;</span><br><span class="line">                    <span class="built_in">require</span>([<span class="string">&#x27;../views/sta/&#x27;</span> + component + <span class="string">&#x27;.vue&#x27;</span>], resolve);</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (component.<span class="title function_">startsWith</span>(<span class="string">&#x27;Sys&#x27;</span>)) &#123;</span><br><span class="line">                    <span class="built_in">require</span>([<span class="string">&#x27;../views/sys/&#x27;</span> + component + <span class="string">&#x27;.vue&#x27;</span>], resolve);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        fmtRoutes.<span class="title function_">push</span>(fmRouter)</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> fmtRoutes;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>vue部分</p>
<p>①不定死(推荐)(首页左侧)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"> &lt;el-container&gt;</span><br><span class="line">     &lt;el-aside width=&quot;200px&quot;&gt;</span><br><span class="line">         &lt;el-menu router unique-opened&gt;&lt;!-- 默认不展开列表 --&gt;</span><br><span class="line">             &lt;el-submenu :index=&quot;index + &#x27;&#x27;&quot; v-for=&quot;(item, index) in routes&quot; :key=&quot;index&quot;&gt;</span><br><span class="line">                 &lt;template slot=&quot;title&quot;&gt;</span><br><span class="line">                    &lt;i :class=&quot;item.iconCls&quot; style=&quot;color: skyblue; margin-right: 5px&quot;&gt;&lt;/i&gt;</span><br><span class="line">                    &lt;span&gt;&#123;&#123; item.name &#125;&#125;&lt;/span&gt;</span><br><span class="line">                 &lt;/template&gt;</span><br><span class="line">                 &lt;el-menu-item :index=&quot;children.path&quot; </span><br><span class="line">                               v-for=&quot;(children, indexj) in item.children&quot; :key=&quot;indexj&quot;&gt;</span><br><span class="line">                     &#123;&#123; children.name &#125;&#125;</span><br><span class="line">                 &lt;/el-menu-item&gt;</span><br><span class="line">             &lt;/el-submenu&gt;</span><br><span class="line">         &lt;/el-menu&gt;</span><br><span class="line">     &lt;/el-aside&gt;</span><br><span class="line">     &lt;el-main&gt;</span><br><span class="line">         &lt;el-breadcrumb v-if=&quot;this.$router.currentRoute.path != &#x27;/home&#x27;&quot;&gt;</span><br><span class="line">             &lt;el-breadcrumb-item :to=&quot;&#123;path:&#x27;/home&#x27;&#125;&quot;&gt;首页&lt;/el-breadcrumb-item&gt;</span><br><span class="line">             &lt;el-breadcrumb-item&gt;&#123;&#123;this.$router.currentRoute.name&#125;&#125;&lt;/el-breadcrumb-item&gt;</span><br><span class="line">         &lt;/el-breadcrumb&gt;</span><br><span class="line">         &lt;div class=&quot;homeWelcome&quot; v-if=&quot;this.$router.currentRoute.path == &#x27;/home&#x27;&quot;&gt;</span><br><span class="line">             欢迎来到云E办系统!</span><br><span class="line">         &lt;/div&gt;</span><br><span class="line">         &lt;router-view class=&quot;homeRouterView&quot;&gt;&lt;/router-view&gt;</span><br><span class="line">     &lt;/el-main&gt;</span><br><span class="line">&lt;/el-container&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;Home&#x27;,</span><br><span class="line">    computed:&#123;</span><br><span class="line">        routes()&#123;</span><br><span class="line">            return this.$store.state.routes;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>②定死(不推荐)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-container&gt;</span><br><span class="line">    &lt;el-aside width=&quot;200px&quot;&gt;</span><br><span class="line">        &lt;el-menu @select=&quot;menuClick&quot;&gt;</span><br><span class="line">            &lt;!-- 菜单点击事件 --&gt;</span><br><span class="line">            &lt;el-submenu index=&quot;1&quot;&gt;</span><br><span class="line">                &lt;template slot=&quot;title&quot;&gt;&lt;i class=&quot;el-icon-location&quot;&gt;&lt;/i&gt;导航一&lt;/template&gt;</span><br><span class="line">                &lt;el-menu-item-group&gt;</span><br><span class="line">                    &lt;el-menu-item index=&quot;/adminInfo&quot;&gt;选项1&lt;/el-menu-item&gt;</span><br><span class="line">                    &lt;el-menu-item index=&quot;1-2&quot;&gt;选项2&lt;/el-menu-item&gt;</span><br><span class="line">                &lt;/el-menu-item-group&gt;</span><br><span class="line">            &lt;/el-submenu&gt;</span><br><span class="line">        &lt;/el-menu&gt;</span><br><span class="line">    &lt;/el-aside&gt;</span><br><span class="line">    &lt;el-main&gt;</span><br><span class="line">        &lt;router-view /&gt;</span><br><span class="line">    &lt;/el-main&gt;</span><br><span class="line">&lt;/el-container&gt;</span><br><span class="line">methods:&#123;</span><br><span class="line">    menuClick(index)&#123;</span><br><span class="line">    this.$router.push(index)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="图标"><a href="#图标" class="headerlink" title="*图标"></a>*图标</h2><p>=&gt;安装 npm install font—awesome 或 npm install font-awesome —save</p>
<p>在main.js添加</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;font-awesome/css/font-awesome.css&#x27;</span></span><br></pre></td></tr></table></figure>
<p>在vue中添加</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;template slot=&quot;title&quot;&gt;</span><br><span class="line">    &lt;i :class=&quot;item.iconCls&quot; style=&quot;color: skyblue; margin-right: 5px&quot;&gt;&lt;/i&gt;</span><br><span class="line">	&lt;!-- :class=&quot;item.iconCls&quot;绑定数据库里的图标 --&gt;</span><br><span class="line">    &lt;span&gt;&#123;&#123; item.name &#125;&#125;&lt;/span&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>
<h2 id="登录功能"><a href="#登录功能" class="headerlink" title="*登录功能"></a>*登录功能</h2><p>*规则问题：输入框提示为空</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-form :rules=&quot;rules&quot; v-loading=&quot;loading&quot; ref=&quot;loginForm&quot; :model=&quot;loginForm&quot; class=&quot;loginContainer&quot;&gt;</span><br><span class="line">出现红色提示为空</span><br><span class="line">&lt;/el-form&gt;</span><br><span class="line">data()&#123;</span><br><span class="line">    rules:&#123;</span><br><span class="line">        username:[&#123;required:true,message:&#x27;请输入用户名&#x27;,trigger:&#x27;blur&#x27;&#125;],</span><br><span class="line">        password:[&#123;required:true,message:&#x27;请输入密码&#x27;,trigger:&#x27;blur&#x27;&#125;],</span><br><span class="line">        code:[&#123;required:true,message:&#x27;请输入验证码&#x27;,trigger:&#x27;blur&#x27;&#125;],</span><br><span class="line">    	 &#125; </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>*获取用户登录信息</p>
<p>main.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//路由前置守卫</span></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;tokenStr&#x27;</span>)) &#123;</span><br><span class="line">    <span class="title function_">initMenu</span>(router, store);</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">window</span>.<span class="property">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;user&#x27;</span>)) &#123;</span><br><span class="line">        <span class="comment">//  判断用户信息是否存在</span></span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">getRequest</span>(<span class="string">&#x27;/admin/info&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">resp</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (resp) &#123;</span><br><span class="line">                <span class="comment">//存入用户信息</span></span><br><span class="line">                <span class="variable language_">window</span>.<span class="property">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;user&#x27;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(resp));</span><br><span class="line">                <span class="comment">// this.$store.commit(&#x27;INIT_ADMIN&#x27;, resp);</span></span><br><span class="line">                store.<span class="title function_">commit</span>(<span class="string">&quot;INIT_ADMIN&quot;</span>, resp);</span><br><span class="line">                <span class="title function_">next</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">next</span>();</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// bug：防止复制网址直接跳过登录</span></span><br><span class="line">    <span class="keyword">if</span> (to.<span class="property">path</span> == <span class="string">&#x27;/&#x27;</span>) &#123;</span><br><span class="line">        <span class="title function_">next</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">next</span>(<span class="string">&#x27;/?redirect=&#x27;</span> + to.<span class="property">path</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>vue部分</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-header class=&quot;homeHeader&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;title&quot;&gt;云E办&lt;/div&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;el-dropdown class=&quot;userInfo&quot; @command=&quot;commandHandler&quot;&gt;</span><br><span class="line">            &lt;span class=&quot;el-dropdown-link&quot;&gt;</span><br><span class="line">                &#123;&#123;user.name&#125;&#125;&lt;i&gt;&lt;img :src=&quot;user.userFace&quot;&gt;&lt;/i&gt;</span><br><span class="line">            &lt;/span&gt;</span><br><span class="line">            &lt;el-dropdown-menu slot=&quot;dropdown&quot;&gt;</span><br><span class="line">                &lt;el-dropdown-item  command=&quot;userinfo&quot;&gt;个人中心&lt;/el-dropdown-item&gt;</span><br><span class="line">                &lt;el-dropdown-item  command=&quot;setting&quot;&gt;设置&lt;/el-dropdown-item&gt;</span><br><span class="line">                &lt;el-dropdown-item  command=&quot;logout&quot;&gt;注销登录&lt;/el-dropdown-item&gt;</span><br><span class="line">            &lt;/el-dropdown-menu&gt;</span><br><span class="line">        &lt;/el-dropdown&gt;</span><br><span class="line">    &lt;/div&gt;    </span><br><span class="line">&lt;/el-header&gt;</span><br><span class="line">data()&#123;</span><br><span class="line">    return&#123; </span><br><span class="line">    	user:JSON.parse(window.sessionStorage.getItem(&#x27;user&#x27;))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">computed:&#123;</span><br><span class="line">    routes()&#123;</span><br><span class="line">    	return this.$store.state.routes;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">methods:&#123;</span><br><span class="line">        commandHandler(command)&#123;</span><br><span class="line">            if(command == &#x27;logout&#x27;)&#123;</span><br><span class="line">            this.$confirm(&#x27;此操作将注销登录, 是否继续?&#x27;, &#x27;提示&#x27;, &#123;</span><br><span class="line">            confirmButtonText: &#x27;确定&#x27;,</span><br><span class="line">            cancelButtonText: &#x27;取消&#x27;, </span><br><span class="line">            type: &#x27;warning&#x27;</span><br><span class="line">        &#125;).then(() =&gt; &#123;</span><br><span class="line">            //注销登录</span><br><span class="line">            this.postRequest(&#x27;/logout&#x27;);</span><br><span class="line">            window.sessionStorage.removeItem(&#x27;tokenStr&#x27;);</span><br><span class="line">            window.sessionStorage.removeItem(&#x27;user&#x27;);</span><br><span class="line">            //清空菜单</span><br><span class="line">            this.$store.commit(&#x27;initRoutes&#x27;,[]);</span><br><span class="line">            //跳转登录页面</span><br><span class="line">            this.$router.replace(&#x27;/&#x27;)</span><br><span class="line">        &#125;).catch(() =&gt; &#123; </span><br><span class="line">            this.$message(&#123;</span><br><span class="line">            type: &#x27;info&#x27;,</span><br><span class="line">            message: &#x27;已取消操作&#x27;</span><br><span class="line">            &#125;);          </span><br><span class="line">        &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="主界面"><a href="#主界面" class="headerlink" title="*主界面"></a>*主界面</h2><p>*面包屑</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-breadcrumb v-if=&quot;this.$router.currentRoute.path != &#x27;/home&#x27;&quot;&gt;&lt;!-- 判断书否为首页,如果是则不展示面包屑 --&gt;</span><br><span class="line">    &lt;el-breadcrumb-item :to=&quot;&#123;path:&#x27;/home&#x27;&#125;&quot;&gt;首页&lt;/el-breadcrumb-item&gt;</span><br><span class="line">    &lt;!-- 当前路由名称 --&gt; </span><br><span class="line">    &lt;el-breadcrumb-item&gt;&#123;&#123;this.$router.currentRoute.name&#125;&#125;&lt;/el-breadcrumb-item&gt;</span><br><span class="line">&lt;/el-breadcrumb&gt;</span><br><span class="line">&lt;div class=&quot;homeWelcome&quot; v-if=&quot;this.$router.currentRoute.path == &#x27;/home&#x27;&quot;&gt;</span><br><span class="line">    欢迎来到云E办系统!</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;router-view class=&quot;homeRouterView&quot;&gt;&lt;/router-view&gt;</span><br></pre></td></tr></table></figure>
<p>*login.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">this.postRequest(&#x27;/login&#x27;,this.loginForm).then(resp=&gt;&#123;</span><br><span class="line">if(resp)&#123;</span><br><span class="line">    this.loading = false;</span><br><span class="line">    //存储用户token</span><br><span class="line">    const tokenStr = resp.obj.tokenHead + resp.obj.token;</span><br><span class="line">    window.sessionStorage.setItem(&#x27;tokenStr&#x27;,tokenStr);</span><br><span class="line">    //页面跳转首页</span><br><span class="line">    let path = this.$router.replace(&#x27;/home&#x27;);</span><br><span class="line">    this.$$router.replace((path==&#x27;/&#x27;||path==undefined)?&#x27;/home&#x27;: path)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="选择框"><a href="#选择框" class="headerlink" title="*选择框"></a>*选择框</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-select</span><br><span class="line">   size=&quot;small&quot;</span><br><span class="line">   v-model=&quot;jl.titleLevel&quot;</span><br><span class="line">   placeholder=&quot;职称等级&quot;</span><br><span class="line">   style=&quot;margin-left: 10px; margin-right: 10px&quot;&gt;</span><br><span class="line">&lt;el-option</span><br><span class="line">   v-for=&quot;item in titleLevels&quot;</span><br><span class="line">   :key=&quot;item&quot;</span><br><span class="line">   :label=&quot;item&quot;</span><br><span class="line">   :value=&quot;item&quot;&gt;</span><br><span class="line">&lt;/el-option&gt;</span><br><span class="line">data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      jl: &#123;</span><br><span class="line">        name: &quot;&quot;,</span><br><span class="line">        titleLevel: &quot;&quot;,</span><br><span class="line">      &#125;,</span><br><span class="line">      titleLevels: [&quot;正高级&quot;, &quot;副高级&quot;, &quot;中级&quot;, &quot;初级&quot;, &quot;员级&quot;],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">        </span><br></pre></td></tr></table></figure>
<h2 id="组件"><a href="#组件" class="headerlink" title="*组件"></a>*组件</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@keydown.enter.native=&#x27;事件&#x27;   键盘事件</span><br><span class="line">icon=&quot;图标&quot;                    添加图标</span><br><span class="line">placeholder=&quot;请输入中文名&quot;      提示内容</span><br><span class="line">size=&quot;mini&quot;                   变小输入框</span><br><span class="line">:title=&quot;数据&quot;                  动态绑定标题</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">show-checkbox    默认选中子节点</span><br><span class="line">:key=&quot;index&quot;     key绑定的是index索引值，索引变化，key也会改变</span><br><span class="line">:props=&quot; &quot;       组件数据的一个字段，期望从父组件传下来</span><br></pre></td></tr></table></figure>
<h1 id="一、展示信息-PC端"><a href="#一、展示信息-PC端" class="headerlink" title="一、展示信息-PC端"></a>一、展示信息-PC端</h1><h2 id="1-云E办"><a href="#1-云E办" class="headerlink" title="1. 云E办"></a>1. 云E办</h2><h3 id="1-1-表格页面编辑"><a href="#1-1-表格页面编辑" class="headerlink" title="1.1 表格页面编辑"></a>1.1 表格页面编辑</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="assets\image-20220206114137512.png" alt="image-20220206114137512"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;el-table :data=&quot;emps&quot; border stripe&gt;</span><br><span class="line">      &lt;el-table-column type=&quot;selection&quot; align=&quot;left&quot; width=&quot;55&quot;&gt;</span><br><span class="line">      &lt;/el-table-column&gt;</span><br><span class="line">      &lt;el-table-column prop=&quot;name&quot; label=&quot;姓名&quot; align=&quot;left&quot; width=&quot;120&quot; fixed&gt;</span><br><span class="line">      &lt;/el-table-column&gt;</span><br><span class="line">      &lt;el-table-column prop=&quot;workID&quot; label=&quot;工号&quot; align=&quot;left&quot; width=&quot;120&quot;&gt;</span><br><span class="line">      &lt;/el-table-column&gt;</span><br><span class="line">      &lt;el-table-column prop=&quot;email&quot; label=&quot;邮箱地址&quot; align=&quot;left&quot; width=&quot;200&quot;&gt;</span><br><span class="line">      &lt;/el-table-column&gt;</span><br><span class="line">      &lt;el-table-column prop=&quot;phone&quot; label=&quot;电话号码&quot; align=&quot;left&quot; width=&quot;120&quot;&gt;</span><br><span class="line">      &lt;/el-table-column&gt;</span><br><span class="line">      &lt;el-table-column label=&quot;工资账套&quot; align=&quot;center&quot;&gt;</span><br><span class="line">        &lt;template slot-scope=&quot;scope&quot;&gt;</span><br><span class="line">          &lt;el-tooltip placement=&quot;right&quot;&gt;</span><br><span class="line">            &lt;div slot=&quot;content&quot;&gt;</span><br><span class="line">              &lt;table&gt;</span><br><span class="line">                &lt;tr&gt;</span><br><span class="line">                  &lt;td&gt;基本工资&lt;/td&gt;</span><br><span class="line">                  &lt;td&gt;&#123;&#123; scope.row.s.basicSalary &#125;&#125;&lt;/td&gt;</span><br><span class="line">                &lt;/tr&gt;</span><br><span class="line">                &lt;tr&gt;</span><br><span class="line">                  &lt;td&gt;交通补助&lt;/td&gt;</span><br><span class="line">                  &lt;td&gt;&#123;&#123; scope.row.s.trafficSalary &#125;&#125;&lt;/td&gt;</span><br><span class="line">                &lt;/tr&gt;</span><br><span class="line">                &lt;tr&gt;</span><br><span class="line">                  &lt;td&gt;午餐补助&lt;/td&gt;</span><br><span class="line">                  &lt;td&gt;&#123;&#123; scope.row.s.lunchSalary &#125;&#125;&lt;/td&gt;</span><br><span class="line">                &lt;/tr&gt;</span><br><span class="line">                &lt;tr&gt;</span><br><span class="line">                  &lt;td&gt;奖金&lt;/td&gt;</span><br><span class="line">                  &lt;td&gt;&#123;&#123; scope.row.s.bonus &#125;&#125;&lt;/td&gt;</span><br><span class="line">                &lt;/tr&gt;</span><br><span class="line">                &lt;tr&gt;</span><br><span class="line">                  &lt;td&gt;养老金比率&lt;/td&gt;</span><br><span class="line">                  &lt;td&gt;&#123;&#123; scope.row.s.pensionPer &#125;&#125;&lt;/td&gt;</span><br><span class="line">                &lt;/tr&gt;</span><br><span class="line">                &lt;tr&gt;</span><br><span class="line">                  &lt;td&gt;养老金基数&lt;/td&gt;</span><br><span class="line">                  &lt;td&gt;&#123;&#123; scope.row.s.pensionBase &#125;&#125;&lt;/td&gt;</span><br><span class="line">                &lt;/tr&gt;</span><br><span class="line">                &lt;tr&gt;</span><br><span class="line">                  &lt;td&gt;医疗保险比率&lt;/td&gt;</span><br><span class="line">                  &lt;td&gt;&#123;&#123; scope.row.s.medicalPer &#125;&#125;&lt;/td&gt;</span><br><span class="line">                &lt;/tr&gt;</span><br><span class="line">                &lt;tr&gt;</span><br><span class="line">                  &lt;td&gt;医疗保险金基数&lt;/td&gt;</span><br><span class="line">                  &lt;td&gt;&#123;&#123; scope.row.s.medicalBase &#125;&#125;&lt;/td&gt;</span><br><span class="line">                &lt;/tr&gt;</span><br><span class="line">                &lt;tr&gt;</span><br><span class="line">                  &lt;td&gt;公积金比率&lt;/td&gt;</span><br><span class="line">                  &lt;td&gt;&#123;&#123; scope.row.s.accumulationFundPer &#125;&#125;&lt;/td&gt;</span><br><span class="line">                &lt;/tr&gt;</span><br><span class="line">                &lt;tr&gt;</span><br><span class="line">                  &lt;td&gt;公积金基数&lt;/td&gt;</span><br><span class="line">                  &lt;td&gt;&#123;&#123; scope.row.s.accumulationFundBase &#125;&#125;&lt;/td&gt;</span><br><span class="line">                &lt;/tr&gt;</span><br><span class="line">              &lt;/table&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;el-tag type=&quot;success&quot; v-if=&quot;scope.row.s.name&quot;&gt;</span><br><span class="line">                &#123;&#123;scope.row.s.name&#125;&#125;</span><br><span class="line">    		&lt;/el-tag&gt;</span><br><span class="line">            &lt;el-tag v-else type=&quot;primary&quot;&gt;暂未设置&lt;/el-tag&gt;</span><br><span class="line">          &lt;/el-tooltip&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">      &lt;/el-table-column&gt;</span><br><span class="line">      &lt;el-table-column label=&quot;操作&quot; align=&quot;center&quot;&gt;</span><br><span class="line">        &lt;template slot-scope=&quot;scope&quot;&gt;</span><br><span class="line">          &lt;el-popover</span><br><span class="line">            placement=&quot;left&quot;</span><br><span class="line">            title=&quot;编辑工资账套&quot;</span><br><span class="line">            @show=&quot;showPop(scope.row.s)&quot;</span><br><span class="line">            @hide=&quot;hide(scope.row)&quot;</span><br><span class="line">            width=&quot;200&quot;</span><br><span class="line">            trigger=&quot;click&quot;&gt;</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">              &lt;el-select v-model=&quot;currentSalary&quot; placeholder=&quot;请选择&quot;&gt;</span><br><span class="line">                &lt;el-option v-for=&quot;item in salaries&quot; :key=&quot;item.id&quot;</span><br><span class="line">                  :label=&quot;item.name&quot; :value=&quot;item.id&quot;&gt;</span><br><span class="line">                &lt;/el-option&gt;</span><br><span class="line">              &lt;/el-select&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;el-button slot=&quot;reference&quot; type=&quot;danger&quot;&gt; 修改工资账套&lt;/el-button&gt;</span><br><span class="line">          &lt;/el-popover&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">      &lt;/el-table-column&gt;</span><br><span class="line">    &lt;/el-table&gt;</span><br><span class="line">    &lt;div style=&quot;display: flex; justify-content: flex-end; margin-top: 10px&quot;&gt;</span><br><span class="line">      &lt;el-pagination</span><br><span class="line">        background</span><br><span class="line">        @current-change=&quot;currentChange&quot;</span><br><span class="line">        @size-change=&quot;sizeChange&quot;</span><br><span class="line">        layout=&quot;prev, pager, next, jumper, -&gt;, total, slot&quot;</span><br><span class="line">        :total=&quot;total&quot;</span><br><span class="line">      &gt;&lt;/el-pagination&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;SalSobCfg&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      currentSalary: null,</span><br><span class="line">      salaries: [],</span><br><span class="line">      emps: [],</span><br><span class="line">      currentPage: 1,</span><br><span class="line">      size: 10,</span><br><span class="line">      total: 0,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    this.initEmps();</span><br><span class="line">    this.initSalaries();</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    hide(data) &#123;</span><br><span class="line">        /* 如果未修改过不会更新,则修改会更新 */</span><br><span class="line">      if (this.currentSalary &amp;&amp; this.currentSalary != data.s.id) &#123;</span><br><span class="line">        this.putRequest(</span><br><span class="line">          &quot;/salary-adjust/update?eid=&quot; + data.id + &quot;&amp;eSid=&quot; + this.currentSalary</span><br><span class="line">        ).then((resp) =&gt; &#123;</span><br><span class="line">          if (resp) &#123;</span><br><span class="line">            this.intEmps();</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    showPop(data) &#123;</span><br><span class="line">      /* 点击编辑时会一直显示一个值，值为空时也是某给值，bug存在，因此做出判断 */</span><br><span class="line">      if (data) &#123;</span><br><span class="line">        this.currentSalary = data.id;</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        this.currentSalary = null;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    initSalaries() &#123;</span><br><span class="line">      this.getRequest(&quot;/salary-adjust/get-All&quot;).then((resp) =&gt; &#123;</span><br><span class="line">        if (resp) &#123;</span><br><span class="line">          this.salaries = resp;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    currentChange(page) &#123;</span><br><span class="line">      this.currentPage = page;</span><br><span class="line">      this.initEmps();</span><br><span class="line">    &#125;,</span><br><span class="line">    sizeChange(size) &#123;</span><br><span class="line">      this.size = size;</span><br><span class="line">      this.initEmps();</span><br><span class="line">    &#125;,</span><br><span class="line">    initEmps() &#123;</span><br><span class="line">      this.getRequest(</span><br><span class="line">        &quot;/salary-adjust/list?currentPage=&quot; +</span><br><span class="line">          this.currentPage +</span><br><span class="line">          &quot;&amp;size=&quot; +</span><br><span class="line">          this.size</span><br><span class="line">      ).then((resp) =&gt; &#123;</span><br><span class="line">        if (resp) &#123;</span><br><span class="line">          this.emps = resp.date;</span><br><span class="line">          this.total = resp.total;</span><br><span class="line">          console.log(resp);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h1 id="二、激活信息-PC端"><a href="#二、激活信息-PC端" class="headerlink" title="二、激活信息-PC端"></a>二、激活信息-PC端</h1><h2 id="1-云E办-1"><a href="#1-云E办-1" class="headerlink" title="1.云E办"></a>1.云E办</h2><h3 id="1-1-卡片用户角色"><a href="#1-1-卡片用户角色" class="headerlink" title="1.1 卡片用户角色"></a>1.1 卡片用户角色</h3><p>用户角色用列表的方式编辑激活权限</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="assets\image-20220205113548684.png" alt="image-20220205113548684"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    用户角色:</span><br><span class="line">    &lt;el-tag style=&quot;margin-right: 10px&quot; type=&quot;success&quot;</span><br><span class="line">        v-for=&quot;(role, indexj) in admin.roles&quot;</span><br><span class="line">        :key=&quot;indexj&quot; &gt;&#123;&#123; role.nameZh &#125;&#125;</span><br><span class="line">    &lt;/el-tag&gt;</span><br><span class="line">    &lt;el-popover placement=&quot;right&quot; title=&quot;角色列表&quot; width=&quot;200&quot; </span><br><span class="line">    	@show=&quot;showPop(admin)&quot; @hide=&quot;hidePop(admin)&quot; trigger=&quot;click&quot;&gt;</span><br><span class="line">    &lt;el-select v-model=&quot;selectRoles&quot; multiple placeholder=&quot;请选择&quot;&gt;</span><br><span class="line">        &lt;el-option v-for=&quot;(r, index) in allRoles&quot; :key=&quot;index&quot; :label=&quot;r.nameZh&quot; :value=&quot;r.id&quot;&gt;</span><br><span class="line">        &lt;/el-option&gt;</span><br><span class="line">    &lt;/el-select&gt;</span><br><span class="line">    &lt;el-button slot=&quot;reference&quot; type=&quot;text&quot; icon=&quot;el-icon-more&quot;&gt;</span><br><span class="line">    &lt;/el-button&gt;</span><br><span class="line">    &lt;/el-popover&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      admins: [],</span><br><span class="line">      keywords: &quot;&quot;,</span><br><span class="line">      allRoles: [],</span><br><span class="line">      selectRoles: [],</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    this.initAdmins();</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">  	hidePop(admin) &#123;</span><br><span class="line">      let roles = [];</span><br><span class="line">      Object.assign(roles, admin.roles);</span><br><span class="line">      let flag = false;</span><br><span class="line">      if (roles.length != this.selectRoles.length) &#123;</span><br><span class="line">        flag = true;</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        for (let i = 0; i &lt; roles.length; i++) &#123;</span><br><span class="line">          let role = roles[i];</span><br><span class="line">          for (let j = 0; j &lt; this.selectRoles.length; j++) &#123;</span><br><span class="line">            let sr = this.selectRoles[j];</span><br><span class="line">            if (role.id == sr) &#123;</span><br><span class="line">              roles.splice(i, 1);</span><br><span class="line">              i--;</span><br><span class="line">              break;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        if (roles.length != 0) &#123;</span><br><span class="line">          flag = true;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      if (flag) &#123;</span><br><span class="line">        let url = &quot;/admin/updaterole?adminId=&quot; + admin.id;</span><br><span class="line">        this.selectRoles.forEach((rs) =&gt; &#123;</span><br><span class="line">          url += &quot;&amp;rids=&quot; + rs;</span><br><span class="line">        &#125;);</span><br><span class="line">        this.putRequest(url).then((resp) =&gt; &#123;</span><br><span class="line">          if (resp) &#123;</span><br><span class="line">            this.initAdmins();</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  	showPop(admin) &#123;</span><br><span class="line">      this.initAllRoles();</span><br><span class="line">      let roles = admin.roles;</span><br><span class="line">      this.selectRoles = [];</span><br><span class="line">      roles.forEach((r) =&gt; &#123;</span><br><span class="line">        this.selectRoles.push(r.id);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    initAllRoles() &#123;</span><br><span class="line">      this.getRequest(&quot;/admin/roles&quot;).then((resp) =&gt; &#123;</span><br><span class="line">        if (resp) &#123;</span><br><span class="line">          this.allRoles = resp;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;, </span><br><span class="line">  	&#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h1 id="三、搜索信息-PC端"><a href="#三、搜索信息-PC端" class="headerlink" title="三、搜索信息-PC端"></a>三、搜索信息-PC端</h1><h2 id="1-云E办-2"><a href="#1-云E办-2" class="headerlink" title="1. 云E办"></a>1. 云E办</h2><h3 id="1-1-自动提示搜索"><a href="#1-1-自动提示搜索" class="headerlink" title="1.1 自动提示搜索"></a>1.1 自动提示搜索</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-input</span><br><span class="line">        placeholder=&quot;输入需要搜索的内容&quot;</span><br><span class="line">        prefix-icon=&quot;el-icon-search&quot;</span><br><span class="line">        v-model=&quot;filterText&quot;</span><br><span class="line">      &gt;</span><br><span class="line">&lt;/el-input&gt;</span><br><span class="line">&lt;el-tree</span><br><span class="line">        style=&quot;margin-top: 20px&quot;</span><br><span class="line">        :data=&quot;deps&quot;</span><br><span class="line">        :props=&quot;defaultProps&quot;</span><br><span class="line">        :filter-node-method=&quot;filterNode&quot;</span><br><span class="line">        :expand-on-click-node=&quot;false&quot;</span><br><span class="line">        ref=&quot;tree&quot;</span><br><span class="line">      &gt;</span><br><span class="line">&lt;/el-tree&gt;</span><br><span class="line">data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      filterText: &quot;&quot;,</span><br><span class="line">      deps: [],</span><br><span class="line">      defaultProps: &#123;</span><br><span class="line">        children: &quot;children&quot;,</span><br><span class="line">        label: &quot;name&quot;,</span><br><span class="line">      &#125;,</span><br><span class="line">      dialogVisible: false,</span><br><span class="line">      dep: &#123;</span><br><span class="line">        name: &quot;&quot;,</span><br><span class="line">        parentId: &quot;&quot;,</span><br><span class="line">      &#125;,</span><br><span class="line">      pname: &quot;&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">mounted() &#123;</span><br><span class="line">    this.initDeps();</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">    filterText(val) &#123;</span><br><span class="line">      this.$refs.tree.filter(val);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">	initDeps() &#123;</span><br><span class="line">      this.getRequest(&quot;/system/basic/department/list&quot;).then((resp) =&gt; &#123;</span><br><span class="line">        if (resp) &#123;</span><br><span class="line">          this.deps = resp;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    filterNode(value, data) &#123;</span><br><span class="line">      if (!value) return true;</span><br><span class="line">      return data.name.indexOf(value) !== -1;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="1-2-用户名搜索"><a href="#1-2-用户名搜索" class="headerlink" title="1.2 用户名搜索"></a>1.2 用户名搜索</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="assets\image-20220205102446992.png" alt="image-20220205102446992"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">搜索框</span><br><span class="line"></span><br><span class="line">&lt;div style=&quot;display: flex; justify-content: center; margin-top: 20px&quot;&gt;</span><br><span class="line">      &lt;el-input placeholder=&quot;通过用户名搜索用户&quot; prefix-icon=&quot;el-icon-search&quot;</span><br><span class="line">        style=&quot;width: 400px; margin-right: 20px&quot;</span><br><span class="line">        v-model=&quot;keywords&quot; @keydown.enter.native=&quot;doSearch&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">      &lt;el-button type=&quot;primary&quot; icon=&quot;el-icon-search&quot; @click=&quot;doSearch&quot;&gt;搜索&lt;/el-button&gt;</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line"> data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      admins: [],</span><br><span class="line">      //在接口文档中keywords是参数名称</span><br><span class="line">      keywords: &quot;&quot;,</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    this.initAdmins();</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">  	doSearch() &#123;</span><br><span class="line">      this.initAdmins();</span><br><span class="line">    &#125;,</span><br><span class="line">    initAdmins() &#123;</span><br><span class="line">      this.getRequest(&quot;/admin/list/?keywords=&quot; + this.keywords).then((resp) =&gt; &#123;</span><br><span class="line">        if (resp) &#123;</span><br><span class="line">          this.admins = resp;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h3 id="1-2-高级用户名搜索"><a href="#1-2-高级用户名搜索" class="headerlink" title="1.2 高级用户名搜索"></a>1.2 高级用户名搜索</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="assets\image-20220205141127589.png" alt="image-20220205141127589"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">      &lt;div style=&quot;display: flex; justify-content: space-between&quot;&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &lt;el-input</span><br><span class="line">            prefix-icon=&quot;el-icon-search&quot; placeholder=&quot;请输入员工姓名进行搜索...&quot; v-model=&quot;empName&quot;</span><br><span class="line">            @keydown.enter.native=&quot;initEmps&quot; clearable @clear=&quot;initEmps&quot; style=&quot;width: 300px&quot;&gt;</span><br><span class="line">            &lt;/el-input&gt;</span><br><span class="line">          &lt;el-button</span><br><span class="line">            style=&quot;margin-left: 10px&quot; icon=&quot;el-icon-search&quot; type=&quot;primary&quot;</span><br><span class="line">            @click=&quot;initEmps&quot;&gt;搜索&lt;/el-button&gt;</span><br><span class="line">          &lt;el-button type=&quot;primary&quot; @click=&quot;showSearch = !showSearch&quot;&gt;</span><br><span class="line">            &lt;i :class=&quot; showSearch ? &#x27;fa fa-angle-double-up&#x27; : &#x27;fa fa-angle-double-down&#x27;&quot;</span><br><span class="line">              aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;高级搜索</span><br><span class="line">          &lt;/el-button&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;transition name=&quot;slide-fade&quot;&gt;</span><br><span class="line">      &lt;div</span><br><span class="line">        v-show=&quot;showSearch&quot;</span><br><span class="line">        style=&quot;</span><br><span class="line">          border: 1px solid #409eff;</span><br><span class="line">          border-radius: 5px;</span><br><span class="line">          box-sizing: border-box;</span><br><span class="line">          padding: 7px;</span><br><span class="line">          margin: 15px 0px;</span><br><span class="line">        &quot;</span><br><span class="line">      &gt;</span><br><span class="line">        &lt;el-row&gt;</span><br><span class="line">          &lt;el-col :span=&quot;5&quot;&gt;</span><br><span class="line">            政治面貌:</span><br><span class="line">            &lt;el-select</span><br><span class="line">              v-model=&quot;searchValue.politicId&quot;</span><br><span class="line">              size=&quot;mini&quot;</span><br><span class="line">              placeholder=&quot;政治面貌&quot;</span><br><span class="line">              style=&quot;width: 130px&quot;</span><br><span class="line">            &gt;</span><br><span class="line">              &lt;el-option</span><br><span class="line">                v-for=&quot;item in politicsstatus&quot;</span><br><span class="line">                :key=&quot;item.id&quot;</span><br><span class="line">                :label=&quot;item.name&quot;</span><br><span class="line">                :value=&quot;item.id&quot;</span><br><span class="line">              &gt;</span><br><span class="line">              &lt;/el-option&gt;</span><br><span class="line">            &lt;/el-select&gt;</span><br><span class="line">          &lt;/el-col&gt;</span><br><span class="line">          &lt;el-col :span=&quot;4&quot;&gt;</span><br><span class="line">            民族:</span><br><span class="line">            &lt;el-select</span><br><span class="line">              v-model=&quot;searchValue.nationId&quot;</span><br><span class="line">              size=&quot;mini&quot;</span><br><span class="line">              placeholder=&quot;民族&quot;</span><br><span class="line">              style=&quot;width: 130px&quot;</span><br><span class="line">            &gt;</span><br><span class="line">              &lt;el-option</span><br><span class="line">                v-for=&quot;item in nations&quot;</span><br><span class="line">                :key=&quot;item.id&quot;</span><br><span class="line">                :label=&quot;item.name&quot;</span><br><span class="line">                :value=&quot;item.id&quot;</span><br><span class="line">              &gt;</span><br><span class="line">              &lt;/el-option&gt;</span><br><span class="line">            &lt;/el-select&gt;</span><br><span class="line">          &lt;/el-col&gt;</span><br><span class="line">          &lt;el-col :span=&quot;4&quot;&gt;</span><br><span class="line">            职位:</span><br><span class="line">            &lt;el-select</span><br><span class="line">              v-model=&quot;searchValue.posId&quot;</span><br><span class="line">              size=&quot;mini&quot;</span><br><span class="line">              placeholder=&quot;职位&quot;</span><br><span class="line">              style=&quot;width: 130px&quot;</span><br><span class="line">            &gt;</span><br><span class="line">              &lt;el-option</span><br><span class="line">                v-for=&quot;item in positions&quot;</span><br><span class="line">                :key=&quot;item.id&quot;</span><br><span class="line">                :label=&quot;item.name&quot;</span><br><span class="line">                :value=&quot;item.id&quot;</span><br><span class="line">              &gt;</span><br><span class="line">              &lt;/el-option&gt;</span><br><span class="line">            &lt;/el-select&gt;</span><br><span class="line">          &lt;/el-col&gt;</span><br><span class="line">          &lt;el-col :span=&quot;4&quot;&gt;</span><br><span class="line">            职称:</span><br><span class="line">            &lt;el-select</span><br><span class="line">              v-model=&quot;searchValue.jobLevelId&quot;</span><br><span class="line">              size=&quot;mini&quot;</span><br><span class="line">              placeholder=&quot;职称&quot;</span><br><span class="line">              style=&quot;width: 130px&quot;</span><br><span class="line">            &gt;</span><br><span class="line">              &lt;el-option</span><br><span class="line">                v-for=&quot;item in joblevels&quot;</span><br><span class="line">                :key=&quot;item.id&quot;</span><br><span class="line">                :label=&quot;item.name&quot;</span><br><span class="line">                :value=&quot;item.id&quot;</span><br><span class="line">              &gt;</span><br><span class="line">              &lt;/el-option&gt;</span><br><span class="line">            &lt;/el-select&gt;</span><br><span class="line">          &lt;/el-col&gt;</span><br><span class="line">          &lt;el-col :span=&quot;7&quot;&gt;</span><br><span class="line">            聘用形式:</span><br><span class="line">            &lt;el-radio-group v-model=&quot;searchValue.engageForm&quot;&gt;</span><br><span class="line">              &lt;el-radio label=&quot;劳动合同&quot;&gt;劳动合同&lt;/el-radio&gt;</span><br><span class="line">              &lt;el-radio label=&quot;劳务合同&quot;&gt;劳务合同&lt;/el-radio&gt;</span><br><span class="line">            &lt;/el-radio-group&gt;</span><br><span class="line">          &lt;/el-col&gt;</span><br><span class="line">        &lt;/el-row&gt;</span><br><span class="line">        &lt;el-row style=&quot;margin-top: 10px&quot;&gt;</span><br><span class="line">          &lt;el-col :span=&quot;5&quot;&gt;</span><br><span class="line">            所属部门:</span><br><span class="line">            &lt;el-popover</span><br><span class="line">              placement=&quot;bottom&quot;</span><br><span class="line">              title=&quot;请选择部门&quot;</span><br><span class="line">              width=&quot;200&quot;</span><br><span class="line">              trigger=&quot;manual&quot;</span><br><span class="line">              v-model=&quot;visible2&quot;</span><br><span class="line">            &gt;</span><br><span class="line">              &lt;el-tree</span><br><span class="line">                :data=&quot;allDeps&quot;</span><br><span class="line">                :props=&quot;defaultProps&quot;</span><br><span class="line">                default-expand-all</span><br><span class="line">                @node-click=&quot;searchhandleNodeClick&quot;</span><br><span class="line">              &gt;&lt;/el-tree&gt;</span><br><span class="line">              &lt;div</span><br><span class="line">                slot=&quot;reference&quot;</span><br><span class="line">                style=&quot;</span><br><span class="line">                  width: 130px;</span><br><span class="line">                  height: 24px;</span><br><span class="line">                  display: inline-flex;</span><br><span class="line">                  border: 1px solid #dedede;</span><br><span class="line">                  border-radius: 5px;</span><br><span class="line">                  cursor: pointer;</span><br><span class="line">                  align-items: center;</span><br><span class="line">                  font-size: 13px;</span><br><span class="line">                  padding-left: 8px;</span><br><span class="line">                  box-sizing: border-box;</span><br><span class="line">                &quot;</span><br><span class="line">                @click=&quot;showDepView2&quot;</span><br><span class="line">              &gt;</span><br><span class="line">                &#123;&#123; inputDepName &#125;&#125;</span><br><span class="line">              &lt;/div&gt;</span><br><span class="line">            &lt;/el-popover&gt;</span><br><span class="line">          &lt;/el-col&gt;</span><br><span class="line">          &lt;el-col :span=&quot;10&quot;&gt;</span><br><span class="line">            入职日期:</span><br><span class="line">            &lt;el-date-picker</span><br><span class="line">              size=&quot;mini&quot;</span><br><span class="line">              v-model=&quot;searchValue.beginDateScope&quot;</span><br><span class="line">              type=&quot;daterange&quot;</span><br><span class="line">              value-format=&quot;yyy-MM-dd&quot;</span><br><span class="line">              unlink-panels</span><br><span class="line">              range-separator=&quot;至&quot;</span><br><span class="line">              start-placeholder=&quot;开始日期&quot;</span><br><span class="line">              end-placeholder=&quot;结束日期&quot;</span><br><span class="line">            &gt;</span><br><span class="line">            &lt;/el-date-picker&gt;</span><br><span class="line">          &lt;/el-col&gt;</span><br><span class="line">          &lt;el-col :span=&quot;5&quot; :offset=&quot;4&quot;&gt;</span><br><span class="line">            &lt;el-button</span><br><span class="line">              size=&quot;mini&quot;</span><br><span class="line">              icon=&quot;el-icon-search&quot;</span><br><span class="line">              type=&quot;primary&quot;</span><br><span class="line">              @click=&quot;initEmps(&#x27;advanced&#x27;)&quot;</span><br><span class="line">              &gt;搜索&lt;/el-button</span><br><span class="line">            &gt;</span><br><span class="line">            &lt;el-button size=&quot;mini&quot;&gt;取消&lt;/el-button&gt;</span><br><span class="line">          &lt;/el-col&gt;</span><br><span class="line">        &lt;/el-row&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/transition&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">	  showSearch: false,</span><br><span class="line">      emps: [],</span><br><span class="line">      loading: false,</span><br><span class="line">      total: 0,</span><br><span class="line">      currentPage: 1,</span><br><span class="line">      size: 10,</span><br><span class="line">      empName: &quot;&quot;,</span><br><span class="line">      dialogVisible: false,</span><br><span class="line">      emp: &#123;</span><br><span class="line">        id: null,</span><br><span class="line">        name: &quot;&quot;,</span><br><span class="line">        gender: &quot;&quot;,</span><br><span class="line">        birthday: &quot;&quot;,</span><br><span class="line">        idCard: &quot;&quot;,</span><br><span class="line">        wedlock: &quot;&quot;,</span><br><span class="line">        nationId: null,</span><br><span class="line">        nativePlace: &quot;&quot;,</span><br><span class="line">        politicId: null,</span><br><span class="line">        email: &quot;&quot;,</span><br><span class="line">        phone: &quot;&quot;,</span><br><span class="line">        address: &quot;&quot;,</span><br><span class="line">        departmentId: null,</span><br><span class="line">        jobLevelId: null,</span><br><span class="line">        posId: null,</span><br><span class="line">        engageForm: &quot;&quot;,</span><br><span class="line">        tiptopDegree: &quot;&quot;,</span><br><span class="line">        specialty: &quot;&quot;,</span><br><span class="line">        school: &quot;&quot;,</span><br><span class="line">        beginDate: &quot;&quot;,</span><br><span class="line">        workState: &quot;在职&quot;,</span><br><span class="line">        workID: &quot;&quot;,</span><br><span class="line">        contractTerm: 9.31,</span><br><span class="line">        conversionTime: &quot;&quot;,</span><br><span class="line">        notWorkDate: null,</span><br><span class="line">        beginContract: &quot;&quot;,</span><br><span class="line">        endContract: &quot;&quot;,</span><br><span class="line">        workAge: null,</span><br><span class="line">        salaryId: 2,</span><br><span class="line">        nation: &#123;</span><br><span class="line">          id: null,</span><br><span class="line">          name: &quot;&quot;,</span><br><span class="line">        &#125;,</span><br><span class="line">        politicsStatus: &#123;</span><br><span class="line">          id: null,</span><br><span class="line">          name: &quot;&quot;,</span><br><span class="line">        &#125;,</span><br><span class="line">        department: &#123;</span><br><span class="line">          id: null,</span><br><span class="line">          name: &quot;&quot;,</span><br><span class="line">          parentId: null,</span><br><span class="line">          depPath: null,</span><br><span class="line">          enabled: null,</span><br><span class="line">          isParent: null,</span><br><span class="line">          children: null,</span><br><span class="line">          result: null,</span><br><span class="line">        &#125;,</span><br><span class="line">        joblevel: &#123;</span><br><span class="line">          id: null,</span><br><span class="line">          name: &quot;&quot;,</span><br><span class="line">          titleLevel: null,</span><br><span class="line">          createDate: null,</span><br><span class="line">          enabled: null,</span><br><span class="line">        &#125;,</span><br><span class="line">        position: &#123;</span><br><span class="line">          id: null,</span><br><span class="line">          name: &quot;&quot;,</span><br><span class="line">          createDate: null,</span><br><span class="line">          enabled: null,</span><br><span class="line">        &#125;,</span><br><span class="line">        s: null,</span><br><span class="line">      &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    this.initEmps();</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">	searchhandleNodeClick(data) &#123;</span><br><span class="line">      this.inputDepName = data.name;</span><br><span class="line">      this.searchValue.departmentId = data.id;</span><br><span class="line">      this.visible2 = !this.visible2;</span><br><span class="line">    &#125;,</span><br><span class="line">	showDepView2() &#123;</span><br><span class="line">      this.visible2 = !this.visible2;</span><br><span class="line">    &#125;,</span><br><span class="line">	handleNodeClick(data) &#123;</span><br><span class="line">      this.inputDepName = data.name;</span><br><span class="line">      this.emp.departmentId = data.id;</span><br><span class="line">      this.visible = !this.visible;</span><br><span class="line">    &#125;,</span><br><span class="line">  	initEmps(type) &#123;</span><br><span class="line">      this.loading = true;</span><br><span class="line">      console.log(this.searchValue.beginDateScope);</span><br><span class="line">      let url =&quot;/employee/basic/list?currentPage=&quot; +this.currentPage +&quot;&amp;size=&quot; +this.size;</span><br><span class="line">      if (type &amp;&amp; type == &quot;advanced&quot;) &#123;</span><br><span class="line">        if (this.searchValue.politicId) &#123;</span><br><span class="line">          url += &quot;&amp;politicId=&quot; + this.searchValue.politicId;</span><br><span class="line">        &#125;</span><br><span class="line">        if (this.searchValue.nationId) &#123;</span><br><span class="line">          url += &quot;&amp;nationId=&quot; + this.searchValue.nationId;</span><br><span class="line">        &#125;</span><br><span class="line">        if (this.searchValue.posId) &#123;</span><br><span class="line">          url += &quot;&amp;posId=&quot; + this.searchValue.posId;</span><br><span class="line">        &#125;</span><br><span class="line">        if (this.searchValue.jobLevelId) &#123;</span><br><span class="line">          url += &quot;&amp;jobLevelId=&quot; + this.searchValue.jobLevelId;</span><br><span class="line">        &#125;</span><br><span class="line">        if (this.searchValue.engageForm) &#123;</span><br><span class="line">          url += &quot;&amp;engageForm=&quot; + this.searchValue.jobLevelId;</span><br><span class="line">        &#125;</span><br><span class="line">        if (this.searchValue.departmentId) &#123;</span><br><span class="line">          url += &quot;&amp;departmentId=&quot; + this.searchValue.departmentId;</span><br><span class="line">        &#125;</span><br><span class="line">        if (this.searchValue.beginDateScope) &#123;</span><br><span class="line">          url +=&quot;&amp;startDate=&quot; +this.searchValue.beginDateScope[0] +&quot;&amp;endDate=&quot; +</span><br><span class="line">            this.searchValue.beginDateScope[1];</span><br><span class="line">        &#125;</span><br><span class="line">        if (this.empName) &#123;</span><br><span class="line">          url += &quot;&amp;name=&quot; + this.empName;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      this.getRequest(url).then((resp) =&gt; &#123;</span><br><span class="line">        this.loading = false;</span><br><span class="line">        if (resp) &#123;</span><br><span class="line">          this.emps = resp.date;</span><br><span class="line">          this.total = resp.total;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">.slide-fade-enter-active &#123;</span><br><span class="line">  transition: all 0.3s ease;</span><br><span class="line">&#125;</span><br><span class="line">.slide-fade-leave-active &#123;</span><br><span class="line">  transition: all 0.8s cubic-bezier(1, 0.5, 0.8, 1);</span><br><span class="line">&#125;</span><br><span class="line">.slide-fade-enter, .slide-fade-leave-to</span><br><span class="line">/* .slide-fade-leave-active for below version 2.1.8 */ &#123;</span><br><span class="line">  transform: translateX(10px);</span><br><span class="line">  opacity: 0;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<h1 id="四、添加信息-PC端"><a href="#四、添加信息-PC端" class="headerlink" title="四、添加信息-PC端"></a>四、添加信息-PC端</h1><h2 id="1-云E办-3"><a href="#1-云E办-3" class="headerlink" title="1. 云E办"></a>1. 云E办</h2><h3 id="1-1-添加工资账套"><a href="#1-1-添加工资账套" class="headerlink" title="1.1 添加工资账套"></a>1.1 添加工资账套</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="assets\image-20220206102919311.png" alt="image-20220206102919311"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line">&lt;div style=&quot;display: flex; justify-content: space-between&quot;&gt;</span><br><span class="line">      &lt;el-button type=&quot;primary&quot; icon=&quot;el-icon-plus&quot; @click=&quot;showAddSalary&quot;&gt;添加工资账套&lt;/el-button&gt;</span><br><span class="line">      &lt;el-button type=&quot;success&quot; icon=&quot;el-icon-refresh&quot; @click=&quot;initSalaries&quot;&gt;&lt;/el-button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;el-dialog :title=&quot;dialogTitle&quot; :visible.sync=&quot;dialogVisible&quot; width=&quot;30%&quot;&gt;</span><br><span class="line">      &lt;div style=&quot;display: flex; justify-content: space-around; align-item: center&quot;&gt;</span><br><span class="line">        &lt;el-steps direction=&quot;vertical&quot; :active=&quot;activeItemIndex&quot;&gt;</span><br><span class="line">          &lt;el-step :title=&quot;itemName&quot; v-for=&quot;(itemName, index) in salaryItemName&quot; :key=&quot;index&quot;&gt;</span><br><span class="line">            &lt;/el-step&gt;</span><br><span class="line">        &lt;/el-steps&gt;</span><br><span class="line">        &lt;el-input</span><br><span class="line">          v-model=&quot;salary[title]&quot;</span><br><span class="line">          :placeholder=&quot;&#x27;请输入&#x27; + salaryItemName[index]&quot;</span><br><span class="line">          v-for=&quot;(value, title, index) in salary&quot;</span><br><span class="line">          :key=&quot;index&quot;</span><br><span class="line">          v-show=&quot;activeItemIndex == index&quot;</span><br><span class="line">          style=&quot;width: 200px&quot;&gt;</span><br><span class="line">          &lt;/el-input&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;span slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;</span><br><span class="line">        &lt;el-button @click=&quot;preStep&quot;&gt;</span><br><span class="line">            &#123;&#123;activeItemIndex == 10 ? &quot;取消&quot; : &quot;上一步&quot;&#125;&#125;&lt;/el-button&gt;</span><br><span class="line">        &lt;el-button type=&quot;primary&quot; @click=&quot;nextStep&quot;&gt;</span><br><span class="line">            &#123;&#123; activeItemIndex == 10 ? &quot;确认&quot; : &quot;下一步&quot;&#125;&#125;&lt;/el-button&gt;</span><br><span class="line">      &lt;/span&gt;</span><br><span class="line">    &lt;/el-dialog&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">name: &quot;SalSob&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      dialogTitle: &quot;&quot;,</span><br><span class="line">      dialogVisible: false,</span><br><span class="line">      salaries: [],</span><br><span class="line">/*注意是0，1的直接跳过第一个输入*/</span><br><span class="line">      activeItemIndex: 0,</span><br><span class="line">      salaryItemName: [</span><br><span class="line">        &quot;账套名称&quot;,</span><br><span class="line">        &quot;基本工资&quot;,</span><br><span class="line">        &quot;交通补助&quot;,</span><br><span class="line">        &quot;午餐补助&quot;,</span><br><span class="line">        &quot;奖金&quot;,</span><br><span class="line">        &quot;养老金比率&quot;,</span><br><span class="line">        &quot;养老金基数&quot;,</span><br><span class="line">        &quot;医疗保险比率&quot;,</span><br><span class="line">        &quot;医疗保险基数&quot;,</span><br><span class="line">        &quot;公积金比率&quot;,</span><br><span class="line">        &quot;公积金基数&quot;,</span><br><span class="line">      ],</span><br><span class="line">      salary: &#123;</span><br><span class="line">        name: &quot;&quot;,</span><br><span class="line">        basicSalary: 0,</span><br><span class="line">        trafficSalary: 0,</span><br><span class="line">        lunchSalary: 0,</span><br><span class="line">        bonus: 0,</span><br><span class="line">        pensionPer: 0,</span><br><span class="line">        pensionBase: 0,</span><br><span class="line">        medicalPer: 0,</span><br><span class="line">        medicalBase: 0,</span><br><span class="line">        accumulationFundPer: 0,</span><br><span class="line">        accumulationFundBase: 0,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    this.initSalaries();</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">	preStep() &#123;</span><br><span class="line">      if (this.activeItemIndex == 0) &#123;</span><br><span class="line">        return;</span><br><span class="line">      &#125; else if (this.activeItemIndex == 10) &#123;</span><br><span class="line">        this.dialogVisible == fasle;</span><br><span class="line">        return;</span><br><span class="line">      &#125;</span><br><span class="line">      this.activeItemIndex--;</span><br><span class="line">    &#125;,</span><br><span class="line">    nextStep() &#123;</span><br><span class="line">      if (this.activeItemIndex == 10) &#123;</span><br><span class="line">        if (this.salary.id) &#123;</span><br><span class="line">          this.putRequest(&quot;/salary/sob/update&quot;, this.salary).then((resp) =&gt; &#123;</span><br><span class="line">            if (resp) &#123;</span><br><span class="line">              this.initSalaries();</span><br><span class="line">              this.dialogVisible = false;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          this.postRequest(&quot;/salary/sob/add&quot;, this.salary).then((resp) =&gt; &#123;</span><br><span class="line">            if (resp) &#123;</span><br><span class="line">              this.initSalaries();</span><br><span class="line">              this.dialogVisible = false;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        return;</span><br><span class="line">      &#125;</span><br><span class="line">      this.activeItemIndex++;</span><br><span class="line">    &#125;,</span><br><span class="line">    initSalaries() &#123;</span><br><span class="line">      this.getRequest(&quot;/salary/sob/get-All&quot;).then((resp) =&gt; &#123;</span><br><span class="line">        if (resp) &#123;</span><br><span class="line">          this.salaries = resp;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    showAddSalary() &#123;</span><br><span class="line">      this.dialogTitle = &quot;添加工资账套&quot;;</span><br><span class="line">      this.activeItemIndex = 0;</span><br><span class="line">      this.dialogVisible = true;</span><br><span class="line">      this.salary = &#123;</span><br><span class="line">        name: &quot;&quot;,</span><br><span class="line">        basicSalary: 0,</span><br><span class="line">        trafficSalary: 0,</span><br><span class="line">        lunchSalary: 0,</span><br><span class="line">        bonus: 0,</span><br><span class="line">        pensionPer: 0,</span><br><span class="line">        pensionBase: 0,</span><br><span class="line">        medicalPer: 0,</span><br><span class="line">        medicalBase: 0,</span><br><span class="line">        accumulationFundPer: 0,</span><br><span class="line">        accumulationFundBase: 0,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
<h1 id="五、编辑信息-PC端"><a href="#五、编辑信息-PC端" class="headerlink" title="五、编辑信息-PC端"></a>五、编辑信息-PC端</h1><h2 id="1-云E办-4"><a href="#1-云E办-4" class="headerlink" title="1. 云E办"></a>1. 云E办</h2><h3 id="1-1-修改个人信息"><a href="#1-1-修改个人信息" class="headerlink" title="1.1 修改个人信息"></a>1.1 修改个人信息</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="assets\image-20220207110805351.png" alt="image-20220207110805351"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-dialog title=&quot;编辑用户信息&quot; :visible.sync=&quot;dialogVisible&quot; width=&quot;30%&quot;&gt;</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;table&gt;</span><br><span class="line">          &lt;tr&gt;</span><br><span class="line">            &lt;td&gt;用户昵称:&lt;/td&gt;</span><br><span class="line">            &lt;td&gt;&lt;el-input v-model=&quot;admin2.name&quot;&gt;&lt;/el-input&gt;&lt;/td&gt;</span><br><span class="line">          &lt;/tr&gt;</span><br><span class="line">          &lt;tr&gt;</span><br><span class="line">            &lt;td&gt;电话号码:&lt;/td&gt;</span><br><span class="line">            &lt;td&gt;&lt;el-input v-model=&quot;admin2.telephone&quot;&gt;&lt;/el-input&gt;&lt;/td&gt;</span><br><span class="line">          &lt;/tr&gt;</span><br><span class="line">          &lt;tr&gt;</span><br><span class="line">            &lt;td&gt;手机号码:&lt;/td&gt;</span><br><span class="line">            &lt;td&gt;&lt;el-input v-model=&quot;admin2.phone&quot;&gt;&lt;/el-input&gt;&lt;/td&gt;</span><br><span class="line">          &lt;/tr&gt;</span><br><span class="line">          &lt;tr&gt;</span><br><span class="line">            &lt;td&gt;居住地址:&lt;/td&gt;</span><br><span class="line">            &lt;td&gt;&lt;el-input v-model=&quot;admin2.address&quot;&gt;&lt;/el-input&gt;&lt;/td&gt;</span><br><span class="line">          &lt;/tr&gt;</span><br><span class="line">        &lt;/table&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;span slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;</span><br><span class="line">        &lt;el-button @click=&quot;dialogVisible = false&quot;&gt;取 消&lt;/el-button&gt;</span><br><span class="line">        &lt;el-button type=&quot;primary&quot; @click=&quot;updateAdmin&quot;&gt;确 定&lt;/el-button&gt;</span><br><span class="line">      &lt;/span&gt;</span><br><span class="line">&lt;/el-dialog&gt;</span><br><span class="line">data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      header: &#123;</span><br><span class="line">        Authorization: window.sessionStorage.getItem(&quot;tokenStr&quot;),</span><br><span class="line">      &#125;,</span><br><span class="line">      admin: null,</span><br><span class="line">      dialogVisible: false,</span><br><span class="line">      admin2: null,</span><br><span class="line">      dialogVisible2: false,</span><br><span class="line">      ruleForm: &#123;</span><br><span class="line">        pass: &quot;&quot;,</span><br><span class="line">        checkPass: &quot;&quot;,</span><br><span class="line">        oldPass: &quot;&quot;,</span><br><span class="line">      &#125;,</span><br><span class="line">      rules: &#123;</span><br><span class="line">        pass: [&#123; validator: validatePass, trigger: &quot;blur&quot; &#125;],</span><br><span class="line">        checkPass: [&#123; validator: validatePass2, trigger: &quot;blur&quot; &#125;],</span><br><span class="line">        oldPass: [&#123; validator: validatePass, trigger: &quot;blur&quot; &#125;],</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    this.initAdmins();</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">	initAdmins() &#123;</span><br><span class="line">      this.getRequest(&quot;/admin/info&quot;).then((resp) =&gt; &#123;</span><br><span class="line">        if (resp) &#123;</span><br><span class="line">          this.admin = resp;</span><br><span class="line"> 		  /* 防止编辑时界面也会跟着编辑,是个bug */</span><br><span class="line">          this.admin2 = Object.assign(&#123;&#125;, this.admin);</span><br><span class="line">          window.sessionStorage.setItem(&quot;user&quot;, resp);</span><br><span class="line">          this.$store.commit(&quot;INIT_ADMIN&quot;, resp);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">	/* 编辑是更新数据 */</span><br><span class="line">	updateAdmin() &#123;</span><br><span class="line">      this.putRequest(&quot;/admin-info&quot;, this.admin2).then((resp) =&gt; &#123;</span><br><span class="line">        if (resp) &#123;</span><br><span class="line">          this.dialogVisible = false;</span><br><span class="line">          this.initAdmins();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">	showUpdate() &#123;</span><br><span class="line">      this.dialogVisible = true;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在store中index.js中加全局更新</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mutations</span>: &#123;</span><br><span class="line">        <span class="title function_">INIT_ADMINS</span>(<span class="params">state, data</span>) &#123;</span><br><span class="line">            state.<span class="property">admins</span> = data;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">INIT_ADMIN</span>(<span class="params">state, admin</span>) &#123;</span><br><span class="line">            state.<span class="property">currentAdmin</span> = admin</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>
<p>在main.js文件中使用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//路由全局前置守卫(防刷新页面丢失内容)</span></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//获取用户信息</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;tokenStr&#x27;</span>)) &#123;</span><br><span class="line">        <span class="comment">//初始化菜单</span></span><br><span class="line">        <span class="title function_">initMenu</span>(router, store);</span><br><span class="line">        <span class="keyword">if</span> (!<span class="variable language_">window</span>.<span class="property">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;user&#x27;</span>)) &#123;</span><br><span class="line">            <span class="comment">//  判断用户信息是否存在</span></span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">getRequest</span>(<span class="string">&#x27;/admin/info&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">resp</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (resp) &#123;</span><br><span class="line">                    <span class="variable language_">window</span>.<span class="property">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;user&#x27;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(resp));</span><br><span class="line">                    <span class="comment">// this.$store.commit(&#x27;INIT_ADMIN&#x27;, resp);</span></span><br><span class="line"><span class="comment">/* 其他不用看,只有这一行-----------------&gt;使用编辑更新信息 */</span></span><br><span class="line">                    store.<span class="title function_">commit</span>(<span class="string">&quot;INIT_ADMIN&quot;</span>, resp);</span><br><span class="line">                    <span class="title function_">next</span>();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_">next</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">//判断去的页面是否登录页面</span></span><br><span class="line">        <span class="keyword">if</span> (to.<span class="property">path</span> == <span class="string">&#x27;/&#x27;</span>) &#123;</span><br><span class="line">            <span class="title function_">next</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="title function_">next</span>(<span class="string">&#x27;/?redirect=&#x27;</span> + to.<span class="property">path</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="1-2-修改密码"><a href="#1-2-修改密码" class="headerlink" title="1.2 修改密码"></a>1.2 修改密码</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="assets\image-20220207114906024.png" alt="image-20220207114906024"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-button type=&quot;danger&quot; @click=&quot;showUpdatePassword&quot;&gt;修改密码&lt;/el-button&gt;</span><br><span class="line">&lt;el-dialog title=&quot;更新密码&quot; :visible.sync=&quot;dialogVisible2&quot; width=&quot;30%&quot;&gt;</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;el-form</span><br><span class="line">          :model=&quot;ruleForm&quot;</span><br><span class="line">          status-icon</span><br><span class="line">          :rules=&quot;rules&quot;</span><br><span class="line">          ref=&quot;ruleForm&quot;</span><br><span class="line">          label-width=&quot;100px&quot;</span><br><span class="line">          class=&quot;demo-ruleForm&quot;&gt;</span><br><span class="line">          &lt;el-form-item label=&quot;旧密码&quot; prop=&quot;oldPass&quot;&gt;</span><br><span class="line">            &lt;el-input v-model=&quot;ruleForm.oldPass&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">          &lt;/el-form-item&gt;</span><br><span class="line">          &lt;el-form-item label=&quot;密码&quot; prop=&quot;pass&quot;&gt;</span><br><span class="line">            &lt;el-input</span><br><span class="line">              type=&quot;password&quot;</span><br><span class="line">              v-model=&quot;ruleForm.pass&quot;</span><br><span class="line">              autocomplete=&quot;off&quot;</span><br><span class="line">            &gt;&lt;/el-input&gt;</span><br><span class="line">          &lt;/el-form-item&gt;</span><br><span class="line">          &lt;el-form-item label=&quot;确认密码&quot; prop=&quot;checkPass&quot;&gt;</span><br><span class="line">            &lt;el-input</span><br><span class="line">              type=&quot;password&quot;</span><br><span class="line">              v-model=&quot;ruleForm.checkPass&quot;</span><br><span class="line">              autocomplete=&quot;off&quot;&gt;</span><br><span class="line">            &lt;/el-input&gt;</span><br><span class="line">&lt;/el-form-item&gt;</span><br><span class="line"> data() &#123;</span><br><span class="line">    var validatePass = (rule, value, callback) =&gt; &#123;</span><br><span class="line">      if (value === &quot;&quot;) &#123;</span><br><span class="line">        callback(new Error(&quot;请输入密码&quot;));</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        if (this.ruleForm.checkPass !== &quot;&quot;) &#123;</span><br><span class="line">          this.$refs.ruleForm.validateField(&quot;checkPass&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        callback();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    var validatePass2 = (rule, value, callback) =&gt; &#123;</span><br><span class="line">      if (value === &quot;&quot;) &#123;</span><br><span class="line">        callback(new Error(&quot;请再次输入密码&quot;));</span><br><span class="line">      &#125; else if (value !== this.ruleForm.pass) &#123;</span><br><span class="line">        callback(new Error(&quot;两次输入密码不一致!&quot;));</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        callback();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    return &#123;</span><br><span class="line">      header: &#123;</span><br><span class="line">        Authorization: window.sessionStorage.getItem(&quot;tokenStr&quot;),</span><br><span class="line">      &#125;,</span><br><span class="line">      admin: null,</span><br><span class="line">      dialogVisible: false,</span><br><span class="line">      admin2: null,</span><br><span class="line">      dialogVisible2: false,</span><br><span class="line">      ruleForm: &#123;</span><br><span class="line">        pass: &quot;&quot;,</span><br><span class="line">        checkPass: &quot;&quot;,</span><br><span class="line">        oldPass: &quot;&quot;,</span><br><span class="line">      &#125;,</span><br><span class="line">      rules: &#123;</span><br><span class="line">        pass: [&#123; validator: validatePass, trigger: &quot;blur&quot; &#125;],</span><br><span class="line">        checkPass: [&#123; validator: validatePass2, trigger: &quot;blur&quot; &#125;],</span><br><span class="line">        oldPass: [&#123; validator: validatePass, trigger: &quot;blur&quot; &#125;],</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    this.initAdmins();</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">	showUpdatePassword() &#123;</span><br><span class="line">      this.dialogVisible2 = true;</span><br><span class="line">    &#125;,</span><br><span class="line">    submitForm(formName) &#123;</span><br><span class="line">      /* 获取当前用户信息 */</span><br><span class="line">      this.$refs[formName].validate((valid) =&gt; &#123;</span><br><span class="line">        if (valid) &#123;</span><br><span class="line">          this.ruleForm.adminId = this.admin.id;</span><br><span class="line">          this.putRequest(&quot;/admin-pass&quot;, this.ruleForm).then((resp) =&gt; &#123;</span><br><span class="line">            if (resp) &#123;</span><br><span class="line">            /* 密码更新成功退出登录 */</span><br><span class="line">              this.postRequest(&quot;/logout&quot;);</span><br><span class="line">              window.sessionStorage.removeItem(&quot;user&quot;);</span><br><span class="line">              window.sessionStorage.removeItem(&quot;tokenStr&quot;);</span><br><span class="line">              this.$store.commit(&quot;initRoutes&quot;, []);</span><br><span class="line">              this.$router.replace(&quot;/&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          console.log(&quot;error submit!!&quot;);</span><br><span class="line">          return false;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    resetForm(formName) &#123;</span><br><span class="line">      this.$refs[formName].resetFields();</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="1-3-编辑个人头像"><a href="#1-3-编辑个人头像" class="headerlink" title="1.3 编辑个人头像"></a>1.3 编辑个人头像</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;div style=&quot;display: flex; justify-content: center&quot;&gt;</span><br><span class="line">   &lt;el-upload</span><br><span class="line">            action=&quot;/admin/userface&quot;</span><br><span class="line">            :headers=&quot;header&quot;</span><br><span class="line">            :data=&quot;admin&quot;</span><br><span class="line">            :on-success=&quot;onSuccess&quot;</span><br><span class="line">            :show-file-list=&quot;false&quot;&gt;</span><br><span class="line">    &lt;img title=&quot;点击修改用户头像&quot; :src=&quot;admin.userFace&quot;</span><br><span class="line">            style=&quot;width: 100px; height: 100px; border-radius: 50px&quot; alt=&quot;&quot;</span><br><span class="line">     /&gt;</span><br><span class="line">  &lt;/el-upload&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      header: &#123;</span><br><span class="line">        Authorization: window.sessionStorage.getItem(&quot;tokenStr&quot;),</span><br><span class="line">      &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    this.initAdmins();</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">	initAdmins() &#123;</span><br><span class="line">      this.getRequest(&quot;/admin/info&quot;).then((resp) =&gt; &#123;</span><br><span class="line">        if (resp) &#123;</span><br><span class="line">          this.admin = resp;</span><br><span class="line"> 		  /* 防止编辑时界面也会跟着编辑,是个bug */</span><br><span class="line">          this.admin2 = Object.assign(&#123;&#125;, this.admin);</span><br><span class="line">          window.sessionStorage.setItem(&quot;user&quot;, resp);</span><br><span class="line">          this.$store.commit(&quot;INIT_ADMIN&quot;, resp);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">	onSuccess() &#123;</span><br><span class="line">      this.initAdmins();</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="1-4-编辑工资职位"><a href="#1-4-编辑工资职位" class="headerlink" title="1.4 编辑工资职位"></a>1.4 编辑工资职位</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- //表格--stripe border斑马纹和边框 --&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;el-table size=&quot;small&quot; stripe border :data=&quot;positions&quot; style=&quot;width: 100%&quot;</span><br><span class="line">        class=&quot;posManaMain&quot; @selection-change=&quot;handleSelectionChange&quot;&gt;</span><br><span class="line">        &lt;el-table-column type=&quot;selection&quot; width=&quot;55&quot;&gt; &lt;/el-table-column&gt;</span><br><span class="line">        &lt;el-table-column prop=&quot;id&quot; label=&quot;编号&quot; width=&quot;180&quot;&gt; &lt;/el-table-column&gt;</span><br><span class="line">        &lt;el-table-column prop=&quot;name&quot; label=&quot;职位&quot; width=&quot;120&quot;&gt;</span><br><span class="line">        &lt;/el-table-column&gt;</span><br><span class="line">        &lt;el-table-column prop=&quot;createDate&quot; label=&quot;创建时间&quot; width=&quot;200&quot;&gt;</span><br><span class="line">        &lt;/el-table-column&gt;</span><br><span class="line">        &lt;el-table-column prop=&quot;enabled&quot; label=&quot;是否启用&quot; width=&quot;120&quot;&gt;</span><br><span class="line">        &lt;/el-table-column&gt;</span><br><span class="line">        &lt;el-table-column label=&quot;操作&quot; width=&quot;150&quot;&gt;</span><br><span class="line">          &lt;template slot-scope=&quot;scope&quot;&gt;</span><br><span class="line">            &lt;el-button size=&quot;mini&quot; @click=&quot;handleEdit(scope.$index, scope.row)&quot;&gt;编辑&lt;/el-button&gt;</span><br><span class="line">            &lt;el-button size=&quot;mini&quot; type=&quot;danger&quot; @click=&quot;handleDelete(scope.$index, scope.row)&quot;&gt;</span><br><span class="line">                删除&lt;/el-button&gt;</span><br><span class="line">          &lt;/template&gt;</span><br><span class="line">        &lt;/el-table-column&gt;</span><br><span class="line">      &lt;/el-table&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">      &lt;!--  //编辑表格 --&gt;</span><br><span class="line">    &lt;el-dialog title=&quot;编辑职位&quot; :visible.sync=&quot;dialogVisible&quot; width=&quot;30%&quot;&gt;</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;el-tag&gt;职位名称&lt;/el-tag&gt;</span><br><span class="line">       &lt;!--  //编辑时会显示信息名称 --&gt;</span><br><span class="line">        &lt;el-input v-model=&quot;updatePos.name&quot; size=&quot;small&quot; class=&quot;updataPosInput&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;span slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;</span><br><span class="line">        &lt;el-button size=&quot;small&quot; @click=&quot;dialogVisible = false&quot;&gt;取 消&lt;/el-button&gt;</span><br><span class="line">        &lt;el-button size=&quot;small&quot; type=&quot;primary&quot; @click=&quot;doupdate&quot;&gt;确 定&lt;/el-button&gt;</span><br><span class="line">      &lt;/span&gt;</span><br><span class="line">data() &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">      positions: [],</span><br><span class="line">      dialogVisible: false,</span><br><span class="line">      updatePos: &#123;</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    //调用信息接口initPositions,下面有详细方法</span><br><span class="line">    this.initPositions();</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">  	handleSelectionChange(val) &#123;</span><br><span class="line">      this.multipleSelection = val;</span><br><span class="line">    &#125;,</span><br><span class="line">    doupdate() &#123;</span><br><span class="line">      this.putRequest(&quot;/system/basic/position/update&quot;, this.updatePos).then(</span><br><span class="line">        (resp) =&gt; &#123;</span><br><span class="line">          if (resp) &#123;</span><br><span class="line">            this.initPositions();</span><br><span class="line">            this.dialogVisible = false;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      );</span><br><span class="line">    &#125;,</span><br><span class="line">    handleEdit(index, data) &#123;</span><br><span class="line">      //处理bug-&gt;编辑的同时页面的内容也跟着编辑</span><br><span class="line">      Object.assign(this.updatePos, data);</span><br><span class="line">      this.dialogVisible = true;</span><br><span class="line">    &#125;,</span><br><span class="line">    //前后端调用信息接口initPositions</span><br><span class="line">    initPositions() &#123;</span><br><span class="line">      this.getRequest(&quot;/system/basic/position/list&quot;).then((resp) =&gt; &#123;</span><br><span class="line">        if (resp) &#123;</span><br><span class="line">          this.positions = resp;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h3 id="1-5-编辑编号账套"><a href="#1-5-编辑编号账套" class="headerlink" title="1.5 编辑编号账套"></a>1.5 编辑编号账套</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="assets\image-20220206105725214.png" alt="image-20220206105725214"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="assets\image-20220206110948072.png" alt="image-20220206110948072"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line">&lt;div style=&quot;margin-top: 20px&quot;&gt;</span><br><span class="line">      &lt;el-table :data=&quot;salaries&quot; border stripe&gt;</span><br><span class="line">        &lt;el-table-column type=&quot;selection&quot; width=&quot;40&quot;&gt; &lt;/el-table-column&gt;</span><br><span class="line">        &lt;el-table-column prop=&quot;name&quot; label=&quot;账套名称&quot; width=&quot;120&quot;&gt;</span><br><span class="line">        &lt;/el-table-column&gt;</span><br><span class="line">        &lt;el-table-column prop=&quot;basicSalary&quot; label=&quot;基本工资&quot; width=&quot;70&quot;&gt;</span><br><span class="line">        &lt;/el-table-column&gt;</span><br><span class="line">        &lt;el-table-column prop=&quot;trafficSalary&quot; label=&quot;交通补助&quot; width=&quot;70&quot;&gt;</span><br><span class="line">        &lt;/el-table-column&gt;</span><br><span class="line">        &lt;el-table-column prop=&quot;lunchSalary&quot; label=&quot;午餐补助&quot; width=&quot;70&quot;&gt;</span><br><span class="line">        &lt;/el-table-column&gt;</span><br><span class="line">        &lt;el-table-column prop=&quot;bonus&quot; label=&quot;奖金&quot; width=&quot;70&quot;&gt;</span><br><span class="line">        &lt;/el-table-column&gt;</span><br><span class="line">        &lt;el-table-column prop=&quot;createDate&quot; label=&quot;启用时间&quot; width=&quot;100&quot;&gt;</span><br><span class="line">        &lt;/el-table-column&gt;</span><br><span class="line">        &lt;el-table-column label=&quot;养老金&quot; align=&quot;center&quot;&gt;</span><br><span class="line">          &lt;el-table-column prop=&quot;pensionPer&quot; label=&quot;比率&quot; width=&quot;70&quot;&gt;</span><br><span class="line">          &lt;/el-table-column&gt;</span><br><span class="line">          &lt;el-table-column prop=&quot;pensionBase&quot; label=&quot;基数&quot; width=&quot;70&quot;&gt;</span><br><span class="line">          &lt;/el-table-column&gt;</span><br><span class="line">        &lt;/el-table-column&gt;</span><br><span class="line">        &lt;el-table-column label=&quot;医疗保险&quot; align=&quot;center&quot;&gt;</span><br><span class="line">          &lt;el-table-column</span><br><span class="line">            prop=&quot;medicalPer&quot;</span><br><span class="line">            label=&quot;比率&quot;</span><br><span class="line">            width=&quot;70&quot;</span><br><span class="line">          &gt;&lt;/el-table-column&gt;</span><br><span class="line">          &lt;el-table-column</span><br><span class="line">            prop=&quot;medicalBase&quot;</span><br><span class="line">            label=&quot;基数&quot;</span><br><span class="line">            width=&quot;70&quot;</span><br><span class="line">          &gt;&lt;/el-table-column&gt;</span><br><span class="line">        &lt;/el-table-column&gt;</span><br><span class="line">        &lt;el-table-column label=&quot;公积金&quot; align=&quot;center&quot;&gt;</span><br><span class="line">          &lt;el-table-column</span><br><span class="line">            prop=&quot;accumulationFundPer&quot;</span><br><span class="line">            label=&quot;比率&quot;</span><br><span class="line">            width=&quot;70&quot;</span><br><span class="line">          &gt;&lt;/el-table-column&gt;</span><br><span class="line">          &lt;el-table-column</span><br><span class="line">            prop=&quot;accumulationFundBase&quot;</span><br><span class="line">            label=&quot;基数&quot;</span><br><span class="line">            width=&quot;70&quot;</span><br><span class="line">          &gt;&lt;/el-table-column&gt;</span><br><span class="line">        &lt;/el-table-column&gt;</span><br><span class="line">        &lt;el-table-column label=&quot;操作&quot;&gt;</span><br><span class="line">          &lt;template slot-scope=&quot;scope&quot;&gt;</span><br><span class="line">            &lt;el-button type=&quot;primary&quot; @click=&quot;showEditSalary(scope.row)&quot;&gt;编辑&lt;/el-button&gt;</span><br><span class="line">            &lt;el-button type=&quot;danger&quot; @click=&quot;deleteSalary(scope.row)&quot;&gt;删除&lt;/el-button&gt;</span><br><span class="line">          &lt;/template&gt;</span><br><span class="line">        &lt;/el-table-column&gt;</span><br><span class="line">      &lt;/el-table&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">name: &quot;SalSob&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      dialogTitle: &quot;&quot;,</span><br><span class="line">      dialogVisible: false,</span><br><span class="line">      salaries: [],</span><br><span class="line">      activeItemIndex: 0,</span><br><span class="line">	&#125;,</span><br><span class="line">	mounted() &#123;</span><br><span class="line">    this.initSalaries();</span><br><span class="line">  &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        deleteSalary(data) &#123;</span><br><span class="line">          this.$confirm(&quot;此操作将永久删除该&quot; + data.name + &quot;, 是否继续?&quot;, &quot;提示&quot;, &#123;</span><br><span class="line">            confirmButtonText: &quot;确定&quot;,</span><br><span class="line">            cancelButtonText: &quot;取消&quot;,</span><br><span class="line">            type: &quot;warning&quot;,</span><br><span class="line">          &#125;)</span><br><span class="line">            .then(() =&gt; &#123;</span><br><span class="line">              this.deleteRequest(&quot;/salary/sob/delete/&quot; + data.id).then((resp) =&gt; &#123;</span><br><span class="line">                if (resp) &#123;</span><br><span class="line">                  this.initSalaries();</span><br><span class="line">                &#125;</span><br><span class="line">              &#125;);</span><br><span class="line">            &#125;)</span><br><span class="line">            .catch(() =&gt; &#123;</span><br><span class="line">              this.$message(&#123;</span><br><span class="line">                type: &quot;info&quot;,</span><br><span class="line">                message: &quot;已取消删除&quot;,</span><br><span class="line">              &#125;);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;,</span><br><span class="line">        showEditSalary(data) &#123;</span><br><span class="line">          this.dialogTitle = &quot;编辑工资账套&quot;;</span><br><span class="line">          this.activeItemIndex = 0;</span><br><span class="line">          this.dialogVisible = true;</span><br><span class="line">          this.salary.id = data.id;</span><br><span class="line">          this.salary.name = data.name;</span><br><span class="line">          this.salary.basicSalary = data.basicSalary;</span><br><span class="line">          this.salary.trafficSalary = data.trafficSalary;</span><br><span class="line">          this.salary.lunchSalary = data.lunchSalary;</span><br><span class="line">          this.salary.bonus = data.bonus;</span><br><span class="line">          this.salary.pensionPer = data.pensionPer;</span><br><span class="line">          this.salary.pensionBase = data.pensionBase;</span><br><span class="line">          this.salary.medicalPer = data.medicalPer;</span><br><span class="line">          this.salary.medicalBase = data.medicalBase;</span><br><span class="line">          this.salary.accumulationFundPer = data.accumulationFundPer;</span><br><span class="line">          this.salary.accumulationFundBase = data.accumulationFundBase;</span><br><span class="line">        &#125;,</span><br></pre></td></tr></table></figure>
<h1 id="六、删除信息-PC端"><a href="#六、删除信息-PC端" class="headerlink" title="六、删除信息-PC端"></a>六、删除信息-PC端</h1><h2 id="1-云E办-5"><a href="#1-云E办-5" class="headerlink" title="1. 云E办"></a>1. 云E办</h2><h3 id="1-1-弹出删除"><a href="#1-1-弹出删除" class="headerlink" title="1.1 弹出删除"></a>1.1 弹出删除</h3><p>卡片弹出删除信息</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="vue基础快速上手.assets/image-20220411110534635.png" alt="image-20220411110534635"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;el-table-column</span><br><span class="line">	label=&quot;操作&quot;&gt;</span><br><span class="line">	&lt;template slot-scope=&quot;scope&quot;&gt;</span><br><span class="line">        &lt;el-button size=&quot;mini&quot;</span><br><span class="line">            @click=&quot;handleEdit(scope.$index, scope.row)&quot;&gt;编辑&lt;/el-button&gt;</span><br><span class="line">        &lt;el-button size=&quot;mini&quot; type=&quot;danger&quot;</span><br><span class="line">            @click=&quot;handleDelete(scope.$index, scope.row)&quot;&gt;删除&lt;/el-button&gt;</span><br><span class="line">	&lt;/template&gt;</span><br><span class="line">&lt;/el-table-column&gt;</span><br><span class="line">mounted()&#123;</span><br><span class="line">	this.initPositions();</span><br><span class="line">&#125;,</span><br><span class="line">methods:&#123;</span><br><span class="line">handleDelete(index,data)&#123;</span><br><span class="line">    this.$confirm(&#x27;此操作将永久删除[&#x27;+data.name+&#x27;]职位, 是否继续?&#x27;, &#x27;提示&#x27;, &#123;</span><br><span class="line">        confirmButtonText: &#x27;确定&#x27;,</span><br><span class="line">        cancelButtonText: &#x27;取消&#x27;,</span><br><span class="line">        type: &#x27;warning&#x27;</span><br><span class="line">        &#125;).then(() =&gt; &#123;</span><br><span class="line">        	this.deleteRequest(&#x27;/system/basic/position/delete&#x27;,&#123;id:data.id&#125;).then(resp=&gt;&#123;</span><br><span class="line">            if(resp)&#123;</span><br><span class="line">                this.initPositions();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;) </span><br><span class="line">        &#125;).catch(() =&gt; &#123;</span><br><span class="line">            this.$message(&#123;</span><br><span class="line">            type: &#x27;info&#x27;,</span><br><span class="line">            message: &#x27;已取消删除&#x27;</span><br><span class="line">        &#125;);          </span><br><span class="line">    &#125;);</span><br><span class="line">&#125;,</span><br><span class="line">initPositions()&#123;</span><br><span class="line">    this.getRequest(&#x27;/system/basic/position/list&#x27;).then(resp=&gt;&#123;</span><br><span class="line">        if(resp)&#123;</span><br><span class="line">        	this.positions = resp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="assets\image-20220205110645408.png" alt="image-20220205110645408"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      admins: [],</span><br><span class="line">      keywords: &quot;&quot;,</span><br><span class="line">      allRoles: [],</span><br><span class="line">      selectRoles: [],</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    this.initAdmins();</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    deleteAdmin(admin) &#123;</span><br><span class="line">          this.$confirm(</span><br><span class="line">            &quot;此操作将永久删除&quot; + admin.name + &quot;用户, 是否继续?&quot;,</span><br><span class="line">            &quot;提示&quot;,</span><br><span class="line">            &#123;</span><br><span class="line">              confirmButtonText: &quot;确定&quot;,</span><br><span class="line">              cancelButtonText: &quot;取消&quot;,</span><br><span class="line">              type: &quot;warning&quot;,</span><br><span class="line">            &#125;</span><br><span class="line">          )</span><br><span class="line">            .then(() =&gt; &#123;</span><br><span class="line">              this.deleteRequest(&quot;/admin/delete&quot; + admin.id).then((resp) =&gt; &#123;</span><br><span class="line">                if (resp) &#123;</span><br><span class="line">                  this.initAdmins();</span><br><span class="line">                &#125;</span><br><span class="line">              &#125;);</span><br><span class="line">            &#125;)</span><br><span class="line">            .catch(() =&gt; &#123;</span><br><span class="line">              this.$message(&#123;</span><br><span class="line">                type: &quot;info&quot;,</span><br><span class="line">                message: &quot;已取消删除&quot;,</span><br><span class="line">              &#125;);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;,</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="assets\image-20220206111506884.png" alt="image-20220206111506884"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;div style=&quot;margin-top: 20px&quot;&gt;</span><br><span class="line">        &lt;el-table-column label=&quot;操作&quot;&gt;</span><br><span class="line">          &lt;template slot-scope=&quot;scope&quot;&gt;</span><br><span class="line">            &lt;el-button type=&quot;primary&quot; @click=&quot;showEditSalary(scope.row)&quot;&gt;编辑&lt;/el-button&gt;</span><br><span class="line">            &lt;el-button type=&quot;danger&quot; @click=&quot;deleteSalary(scope.row)&quot;&gt;删除&lt;/el-button&gt;</span><br><span class="line">          &lt;/template&gt;</span><br><span class="line">        &lt;/el-table-column&gt;</span><br><span class="line">      &lt;/el-table&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      dialogTitle: &quot;&quot;,</span><br><span class="line">      dialogVisible: false,</span><br><span class="line">      salaries: [],</span><br><span class="line">      activeItemIndex: 0,</span><br><span class="line">&#125;,</span><br><span class="line">mounted() &#123;</span><br><span class="line">    this.initSalaries();</span><br><span class="line">  &#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">    deleteSalary(data) &#123;</span><br><span class="line">      this.$confirm(&quot;此操作将永久删除该&quot; + data.name + &quot;, 是否继续?&quot;, &quot;提示&quot;, &#123;</span><br><span class="line">        confirmButtonText: &quot;确定&quot;,</span><br><span class="line">        cancelButtonText: &quot;取消&quot;,</span><br><span class="line">        type: &quot;warning&quot;,</span><br><span class="line">      &#125;)</span><br><span class="line">        .then(() =&gt; &#123;</span><br><span class="line">          this.deleteRequest(&quot;/salary/sob/delete/&quot; + data.id).then((resp) =&gt; &#123;</span><br><span class="line">            if (resp) &#123;</span><br><span class="line">              this.initSalaries();</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;)</span><br><span class="line">        .catch(() =&gt; &#123;</span><br><span class="line">          this.$message(&#123;</span><br><span class="line">            type: &quot;info&quot;,</span><br><span class="line">            message: &quot;已取消删除&quot;,</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="1-2-批量删除"><a href="#1-2-批量删除" class="headerlink" title="1.2 批量删除"></a>1.2 批量删除</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="vue基础快速上手.assets/image-20220412154012285.png" alt="image-20220412154012285"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- //删除表格--&gt;</span><br><span class="line">    &lt;el-button type=&quot;danger&quot; style=&quot;margin-top=10px&quot; :disabled=&quot;this.multipleSelection.length == 0&quot;</span><br><span class="line">      @click=&quot;deleteMany&quot;&gt;批量删除&lt;/el-button&gt;</span><br><span class="line">data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      //&lt;!-- //批量删除表格数组--&gt;</span><br><span class="line">      multipleSelection: [],</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">mounted() &#123;</span><br><span class="line">    //调用信息接口initPositions,下面有详细方法</span><br><span class="line">    this.initPositions();</span><br><span class="line">  &#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">//&lt;!-- //批量删除表格--&gt;</span><br><span class="line">    deleteMany() &#123;</span><br><span class="line">      this.$confirm(</span><br><span class="line">        &quot;批量删除[&quot; + this.multipleSelection.length + &quot;]条职位, 是否继续?&quot;,</span><br><span class="line">        &quot;提示&quot;,</span><br><span class="line">        &#123;</span><br><span class="line">          confirmButtonText: &quot;确定&quot;,</span><br><span class="line">          cancelButtonText: &quot;取消&quot;,</span><br><span class="line">          type: &quot;warning&quot;,</span><br><span class="line">        &#125;</span><br><span class="line">      )</span><br><span class="line">        .then(() =&gt; &#123;</span><br><span class="line">          let ids = &quot;?&quot;;</span><br><span class="line">          this.multipleSelection.forEach((item) =&gt; &#123;</span><br><span class="line">            ids += &quot;ids=&quot; + item.id + &quot;&amp;&quot;;</span><br><span class="line">          &#125;);</span><br><span class="line">          this.deleteRequest(&quot;/system/basic/position/deletes&quot; + ids).then((res) =&gt; &#123;</span><br><span class="line">              if (res) &#123;</span><br><span class="line">                this.initPositions();</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;</span><br><span class="line">          );</span><br><span class="line">        &#125;)</span><br><span class="line">        .catch(() =&gt; &#123;</span><br><span class="line">          this.$message(&#123;</span><br><span class="line">            type: &quot;info&quot;,</span><br><span class="line">            message: &quot;已取消删除&quot;,</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">initPositions() &#123;</span><br><span class="line">      this.getRequest(&quot;/system/basic/position/list&quot;).then((resp) =&gt; &#123;</span><br><span class="line">        if (resp) &#123;</span><br><span class="line">          this.positions = resp;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="七、聊天记录-PC端"><a href="#七、聊天记录-PC端" class="headerlink" title="七、聊天记录-PC端"></a>七、聊天记录-PC端</h1><h2 id="1-云E办-6"><a href="#1-云E办-6" class="headerlink" title="1.云E办"></a>1.云E办</h2><p>1.借助github资源网站，搜索vue-chat</p>
<p>2.有的项目是有bug的，所以用隐身打开窗口来运行。</p>
<p>3.下载解压—-&gt;用管理员的身份打开命令提示符，</p>
<p>4.cd 文件路径—&gt;npm install—&gt;npm run dev</p>
<p>5.自动打开浏览器运行</p>
<p>6.打开文件里的代码，在自己的项目创建vue文件</p>
<p>7.在路由文件 router/index.js 中,添加</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    path: &#x27;/home&#x27;,</span><br><span class="line">    name: &#x27;Home&#x27;,</span><br><span class="line">    component: Home,</span><br><span class="line">    children: [&#123;</span><br><span class="line">        path: &#x27;/chat&#x27;,</span><br><span class="line">        name: &#x27;在线聊天&#x27;,</span><br><span class="line">        component: FriendChat,</span><br><span class="line">    &#125;,</span><br><span class="line">	&#123;</span><br><span class="line">      path: &#x27;/userinfo&#x27;,</span><br><span class="line">      name: &#x27;个人中心&#x27;,</span><br><span class="line">      component: AdminInfo</span><br><span class="line">    &#125;</span><br><span class="line">   ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>8.在home.vue文件添加路口</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;!-- 铃铛图标聊天信息，点击会跳到聊天记录 --&gt;</span><br><span class="line">    &lt;el-button</span><br><span class="line">        icon=&quot;el-icon-my-message&quot;</span><br><span class="line">        type=&quot;text&quot;</span><br><span class="line">        size=&quot;normal&quot;</span><br><span class="line">        style=&quot;color: black; margin-right: 20px&quot;</span><br><span class="line">        @click=&quot;goChat&quot;&gt;</span><br><span class="line">    &lt;/el-button&gt;</span><br><span class="line">        &lt;!-- //用户头像菜单信息 --&gt;</span><br><span class="line">        &lt;el-dropdown class=&quot;userInfo&quot; @command=&quot;commandHandler&quot;&gt;</span><br><span class="line">         &lt;span class=&quot;el-dropdown-link&quot;&gt;</span><br><span class="line">          	&#123;&#123; user.name &#125;&#125;&lt;i&gt;&lt;img :src=&quot;user.userFace&quot; alt=&quot;&quot; /&gt;&lt;/i&gt;</span><br><span class="line">          &lt;/span&gt;</span><br><span class="line">          &lt;el-dropdown-menu slot=&quot;dropdown&quot;&gt;</span><br><span class="line">              &lt;el-dropdown-item command=&quot;userinfo&quot;&gt;个人中心&lt;/el-dropdown-item&gt;</span><br><span class="line">              &lt;el-dropdown-item command=&quot;setting&quot;&gt;设置&lt;/el-dropdown-item&gt;</span><br><span class="line">              &lt;el-dropdown-item command=&quot;logout&quot;&gt;注销登录&lt;/el-dropdown-item&gt;</span><br><span class="line">          &lt;/el-dropdown-menu&gt;</span><br><span class="line">     	&lt;/el-dropdown&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      </span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    </span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">	goChat() &#123;</span><br><span class="line">      this.$router.push(&quot;/chat&quot;);</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>9.用下载第三方的项目，复制一些可以用的组件例如：vue，js，图片等等，替换自己的。</p>
<p>例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;sidebar&quot;&gt;</span><br><span class="line">      &lt;card&gt;&lt;/card&gt;</span><br><span class="line">      &lt;list&gt;&lt;/list&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;main&quot;&gt;</span><br><span class="line">      &lt;message&gt;&lt;/message&gt;</span><br><span class="line">      &lt;usertext&gt;&lt;/usertext&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import card from &#x27;./components/card.vue&#x27;</span><br><span class="line">import list from &#x27;./components/list.vue&#x27;</span><br><span class="line">import message from &#x27;./components/message.vue&#x27;</span><br><span class="line">import usertext from &#x27;./components/usertext.vue&#x27;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;app&#x27;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;     </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted:function() &#123;</span><br><span class="line">    this.$store.dispatch(&#x27;initData&#x27;);</span><br><span class="line">  &#125;,</span><br><span class="line">  components:&#123;</span><br><span class="line">    card,</span><br><span class="line">    list,</span><br><span class="line">    message,</span><br><span class="line">    usertext</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">#app &#123;</span><br><span class="line">  margin: 20px auto;</span><br><span class="line">  width: 800px;</span><br><span class="line">  height: 600px;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">  border-radius: 10px;</span><br><span class="line">  .sidebar, .main &#123;</span><br><span class="line">    height: 100%;</span><br><span class="line">  &#125;</span><br><span class="line">  .sidebar &#123;</span><br><span class="line">    float: left;</span><br><span class="line">    color: #f4f4f4;</span><br><span class="line">    background-color: #2e3238;</span><br><span class="line">    width: 200px;</span><br><span class="line">  &#125;</span><br><span class="line">  .main &#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">    background-color: #eee;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<p>10.css用sass写的，安装：npm install sass-loader —save-dev //存放在dev文件里<br>  安装：npm install node-loader —save-dev</p>
<p>11.运行后，点开聊天界面，按F12，点击头像，复制图片地址 //可以忽略</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="assets\image-20220206155538198.png" alt="image-20220206155538198"></p>
<p>12.最后修改各种bug…</p>
<p>13.服务器与浏览器双向通讯数据发送安装：npm install sockjs-client与npm install stompjs</p>
<p>14.在接口vue.config.js添加</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">proxyObj[<span class="string">&#x27;/ws&#x27;</span>] = &#123;</span><br><span class="line">    <span class="attr">ws</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">target</span>: <span class="string">&#x27;ws://dongeast.top:8181&#x27;</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>15.在store中的index.js添加</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">SockJs</span> <span class="keyword">from</span> <span class="string">&#x27;sockjs-client&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Stomp</span> <span class="keyword">from</span> <span class="string">&#x27;stompjs&#x27;</span></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line"><span class="comment">//  全局对象</span></span><br><span class="line"><span class="attr">state</span>: &#123;</span><br><span class="line">        <span class="attr">stomp</span>: <span class="literal">null</span>,</span><br><span class="line">    &#125;,</span><br><span class="line"><span class="attr">mutations</span>: &#123;</span><br><span class="line">        <span class="title function_">initRoutes</span>(<span class="params">state, data</span>) &#123;</span><br><span class="line">            state.<span class="property">routes</span> = data;</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line"><span class="comment">//  异步执行与消息</span></span><br><span class="line">    <span class="attr">actions</span>: &#123;</span><br><span class="line">        <span class="title function_">connect</span>(<span class="params">context</span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(context);</span><br><span class="line">            context.<span class="property">state</span>.<span class="property">stomp</span> = <span class="title class_">Stomp</span>.<span class="title function_">over</span>(<span class="keyword">new</span> <span class="title class_">SockJs</span>(<span class="string">&#x27;/ws/ep&#x27;</span>));</span><br><span class="line">            <span class="keyword">let</span> token = <span class="variable language_">window</span>.<span class="property">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;tokenStr&#x27;</span>);</span><br><span class="line">            context.<span class="property">state</span>.<span class="property">stomp</span>.<span class="title function_">connect</span>(&#123; <span class="string">&#x27;Auth-Token&#x27;</span>: token &#125;, <span class="function"><span class="params">success</span> =&gt;</span> &#123;</span><br><span class="line">                context.<span class="property">state</span>.<span class="property">stomp</span>.<span class="title function_">subscribe</span>(<span class="string">&#x27;/user/queue/chat&#x27;</span>, <span class="function"><span class="params">msg</span> =&gt;</span> &#123;</span><br><span class="line">                    <span class="keyword">let</span> receiveMsg = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(msg.<span class="property">body</span>);</span><br><span class="line">                    <span class="comment">/* 消息提醒 */</span></span><br><span class="line">                    <span class="keyword">if</span> (context.<span class="property">state</span>.<span class="property">currentSession</span> || receiveMsg.<span class="property">from</span> != context.<span class="property">state</span>.<span class="property">currentAdmin</span>.<span class="property">username</span>) &#123;</span><br><span class="line">                        <span class="title class_">Notification</span>.<span class="title function_">info</span>(&#123;</span><br><span class="line">                            <span class="attr">title</span>: <span class="string">&#x27;[&#x27;</span> + receiveMsg.<span class="property">formNickName</span> + <span class="string">&#x27;]发来一条消息&#x27;</span>,</span><br><span class="line">                            <span class="attr">message</span>: receiveMsg.<span class="property">content</span>.<span class="property">length</span> &gt; <span class="number">10</span> ? receiveMsg.<span class="property">content</span>.<span class="title function_">substr</span>(<span class="number">0</span>, <span class="number">10</span>) : receiveMsg.<span class="property">content</span>,</span><br><span class="line">                            <span class="attr">position</span>: <span class="string">&#x27;bottom-right&#x27;</span></span><br><span class="line">                        &#125;);</span><br><span class="line">                        <span class="title class_">Vue</span>.<span class="title function_">set</span>(context.<span class="property">state</span>.<span class="property">isDot</span>, context.<span class="property">state</span>.<span class="property">currentAdmin</span>.<span class="property">username</span> + <span class="string">&#x27;#&#x27;</span> + receiveMsg.<span class="property">from</span>, <span class="literal">true</span>);</span><br><span class="line">                    &#125;;</span><br><span class="line">                    receiveMsg.<span class="property">notSelf</span> = <span class="literal">true</span>;</span><br><span class="line">                    receiveMsg.<span class="property">to</span> = receiveMsg.<span class="property">from</span>;</span><br><span class="line">                    context.<span class="title function_">commit</span>(<span class="string">&#x27;addMessage&#x27;</span>, receiveMsg);</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;, <span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">initData</span>(<span class="params">context</span>) &#123;</span><br><span class="line">            context.<span class="title function_">commit</span>(<span class="string">&#x27;INIT_DATA&#x27;</span>);</span><br><span class="line">            <span class="title function_">getRequest</span>(<span class="string">&#x27;/chat/admin&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">resp</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (resp) &#123;</span><br><span class="line">                    context.<span class="title function_">commit</span>(<span class="string">&#x27;INIT_ADMINS&#x27;</span>, resp)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">modules</span>: &#123;&#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">/* 可以缓存发送信息，重新登录也可以查询到之前的信息 */</span></span><br><span class="line">store.<span class="title function_">watch</span>(<span class="keyword">function</span>(<span class="params">state</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> state.<span class="property">sessions</span></span><br><span class="line">&#125;, <span class="keyword">function</span>(<span class="params">val</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;CHANGE: &#x27;</span>, val);</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;vue-chat-session&#x27;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(val));</span><br><span class="line">&#125;, &#123;</span><br><span class="line">    <span class="attr">deep</span>: <span class="literal">true</span> <span class="comment">/*这个貌似是开启watch监测的判断,官方说明也比较模糊*/</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">state</span>: &#123;</span><br><span class="line">        <span class="attr">stomp</span>: <span class="literal">null</span>,</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>
<h1 id="八、更新信息-PC端"><a href="#八、更新信息-PC端" class="headerlink" title="八、更新信息-PC端"></a>八、更新信息-PC端</h1><h2 id="1-云E办-7"><a href="#1-云E办-7" class="headerlink" title="1.云E办"></a>1.云E办</h2><h3 id="1-1-卡片禁用用户状态"><a href="#1-1-卡片禁用用户状态" class="headerlink" title="1.1 卡片禁用用户状态"></a>1.1 卡片禁用用户状态</h3><p>卡片中用户状态，启用时可以登录，禁用时不能登录</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="assets\image-20220205112239086.png" alt="image-20220205112239086"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;用户状态:</span><br><span class="line">    &lt;el-switch v-model=&quot;admin.enabled&quot; active-color=&quot;#13ce66&quot; inactive-color=&quot;#ff4949&quot;</span><br><span class="line">    active-text=&quot;启用&quot; inactive-text=&quot;禁用&quot; @change=&quot;enabledChange(admin)&quot;&gt;</span><br><span class="line">    &lt;/el-switch&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      admins: [],</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    this.initAdmins();</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">  	enabledChange(admin) &#123;</span><br><span class="line">      this.putRequest(&quot;/admin/update&quot;, admin).then((resp) =&gt; &#123;</span><br><span class="line">        if (resp) &#123;</span><br><span class="line">          this.initAdmins();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h1 id="九、前后接口-PC端"><a href="#九、前后接口-PC端" class="headerlink" title="九、前后接口-PC端"></a>九、前后接口-PC端</h1><h2 id="1-云E办-8"><a href="#1-云E办-8" class="headerlink" title="1.云E办"></a>1.云E办</h2><h3 id="1-1-请求头host"><a href="#1-1-请求头host" class="headerlink" title="1.1 请求头host"></a>1.1 请求头host</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> proxyObj = &#123;&#125;</span><br><span class="line"><span class="comment">//需要重新转发websocket所以需要 [&#x27;/&#x27;]</span></span><br><span class="line">proxyObj[<span class="string">&#x27;/&#x27;</span>] = &#123;</span><br><span class="line">    <span class="comment">// websocket</span></span><br><span class="line">    <span class="attr">ws</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="comment">//转发的地址</span></span><br><span class="line">    <span class="attr">target</span>: <span class="string">&#x27;http://127.0.0.1:9090&#x27;</span>,<span class="comment">//后端接口地址</span></span><br><span class="line">    <span class="comment">// 发送的请求头中的 host 会被设置成 target：http://127.0.0.1:9090，如果跨域就需要开启这个配置</span></span><br><span class="line">    <span class="attr">changeOrigin</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">// 重写请求地址</span></span><br><span class="line">    <span class="attr">pathRewrite</span>: &#123;<span class="string">&#x27;^/&#x27;</span>: <span class="string">&#x27;/&#x27;</span>&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">devServer</span>: &#123;</span><br><span class="line">        <span class="attr">host</span>: <span class="string">&#x27;localhost&#x27;</span>,</span><br><span class="line">        <span class="attr">port</span>: <span class="number">8082</span>,<span class="comment">// 前端访问地址</span></span><br><span class="line">        <span class="comment">//node.js把请求转发到服务器的接口9090，前端实际还是访问的8082端口</span></span><br><span class="line">        <span class="attr">proxy</span>: proxyObj</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="1-2-请求头host设置target"><a href="#1-2-请求头host设置target" class="headerlink" title="1.2 请求头host设置target"></a>1.2 请求头host设置target</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> proxyObj = &#123;&#125;;</span><br><span class="line">proxyObj[<span class="string">&#x27;/&#x27;</span>] = &#123;</span><br><span class="line">    <span class="comment">//wbsocket</span></span><br><span class="line">    <span class="attr">ws</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="comment">//  目标地址</span></span><br><span class="line">    <span class="attr">target</span>: <span class="string">&#x27;http://dongeast.top:8181&#x27;</span>,</span><br><span class="line">    <span class="comment">//  发送请求头host会被设置target</span></span><br><span class="line">    <span class="attr">changeOrigin</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">//  不重写请求地址</span></span><br><span class="line">    <span class="attr">pathWewrite</span>: &#123;</span><br><span class="line">        <span class="string">&quot;^/&quot;</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">proxyObj[<span class="string">&#x27;/ws&#x27;</span>] = &#123;</span><br><span class="line">    <span class="attr">ws</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">target</span>: <span class="string">&#x27;ws://dongeast.top:8181&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">devServer</span>: &#123;</span><br><span class="line">        <span class="attr">host</span>: <span class="string">&quot;localhost&quot;</span>,</span><br><span class="line">        <span class="attr">port</span>: <span class="number">8080</span>,</span><br><span class="line">        <span class="attr">proxy</span>: proxyObj,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="十、导入导出-PC端"><a href="#十、导入导出-PC端" class="headerlink" title="十、导入导出-PC端"></a>十、导入导出-PC端</h1><p>先安装—-&gt;</p>
<p>vs code—-&gt;npm install js-file-download</p>
<h2 id="①使用导出导入"><a href="#①使用导出导入" class="headerlink" title="①使用导出导入"></a>①使用导出导入</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> service = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">    <span class="attr">responseType</span>: <span class="string">&#x27;arraybuffer&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//请求拦截器</span></span><br><span class="line">service.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(<span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">    config.<span class="property">headers</span>[<span class="string">&#x27;Authorization&#x27;</span>] = <span class="variable language_">window</span>.<span class="property">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;tokenStr&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> config;</span><br><span class="line">&#125;, <span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">&#125;)</span><br><span class="line">service.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(<span class="function"><span class="params">resp</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> headers = resp.<span class="property">headers</span>;</span><br><span class="line">        <span class="keyword">let</span> reg = <span class="title class_">RegExp</span>(<span class="regexp">/application\/json/</span>);<span class="comment">//定义表达式</span></span><br><span class="line">        <span class="keyword">if</span> (headers[<span class="string">&#x27;content-type&#x27;</span>].<span class="title function_">match</span>(reg)) &#123;</span><br><span class="line">            resp.<span class="property">data</span> = <span class="title function_">unitToString</span>(resp.<span class="property">data</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> fileDownload = <span class="built_in">require</span>(<span class="string">&#x27;js-file-download&#x27;</span>); <span class="comment">//引进来的filedownload插件</span></span><br><span class="line">            <span class="keyword">let</span> fileName = headers[<span class="string">&#x27;content-disposition&#x27;</span>].<span class="title function_">split</span>(<span class="string">&#x27;;&#x27;</span>)[<span class="number">1</span>].<span class="title function_">split</span>(<span class="string">&#x27;filename=&#x27;</span>)[<span class="number">1</span>]; <span class="comment">//文件名</span></span><br><span class="line">            <span class="keyword">let</span> contentType = headers[<span class="string">&#x27;content-type&#x27;</span>]; <span class="comment">// 响应类型</span></span><br><span class="line">            fileName = <span class="built_in">decodeURIComponent</span>(fileName); <span class="comment">//文件名格式进行转换,防止中文乱码</span></span><br><span class="line">            <span class="title function_">fileDownload</span>(resp.<span class="property">data</span>, fileName, contentType);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">unitToString</span>(<span class="params">unitArray</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> encodeString = <span class="title class_">String</span>.<span class="property">fromCharCode</span>.<span class="title function_">apply</span>(<span class="literal">null</span>, <span class="keyword">new</span> <span class="title class_">Uint8Array</span>(unitArray));</span><br><span class="line">    <span class="keyword">let</span> decodeString = <span class="built_in">decodeURIComponent</span>(<span class="built_in">escape</span>(encodeString));</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">JSON</span>.<span class="title function_">parse</span>(decodeString)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> base = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">downloadRequest</span> = (<span class="params">url, params</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">service</span>(&#123;</span><br><span class="line">        <span class="attr">method</span>: <span class="string">&#x27;get&#x27;</span>,</span><br><span class="line">        <span class="attr">url</span>: <span class="string">`<span class="subst">$&#123;base&#125;</span><span class="subst">$&#123;url&#125;</span>`</span>,</span><br><span class="line">        <span class="attr">data</span>: params</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> service</span><br></pre></td></tr></table></figure>
<p>不要忘了要去main.ja使用—&gt;</p>
<p>——-&gt;import {downLoadRequest} from “./utils/downLoad”;</p>
<p>——-&gt;Vue.prototype.downLoadRequest = downloadRequest；</p>
<h2 id="1-云E办-9"><a href="#1-云E办-9" class="headerlink" title="1.云E办"></a>1.云E办</h2><h3 id="1-1-导出导入"><a href="#1-1-导出导入" class="headerlink" title="1.1 导出导入"></a>1.1 导出导入</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;el-upload</span><br><span class="line">       style=&quot;display: inline-flex; margin-right: 8px&quot; :show-file-list=&quot;false&quot;</span><br><span class="line">       :before-upload=&quot;beforeUpload&quot; :on-success=&quot;onSuccess&quot;</span><br><span class="line">       :headers=&quot;headers&quot; :on-error=&quot;onError&quot;</span><br><span class="line">       :disabled=&quot;importDataDisabled&quot; action=&quot;/employee/basic/import&quot;&gt;</span><br><span class="line">        &lt;el-button type=&quot;success&quot; :disabled=&quot;importDataDisabled&quot; </span><br><span class="line">         :icon=&quot;importDataBtnIcon&quot;&gt;</span><br><span class="line">         &#123;&#123; importDataBtnText &#125;&#125;</span><br><span class="line">        &lt;/el-button&gt;&lt;!--在下边导入--&gt;</span><br><span class="line">    &lt;/el-upload&gt;</span><br><span class="line">    &lt;el-button type=&quot;success&quot; @click=&quot;exportData&quot; icon=&quot;el-icon-download&quot;&gt;</span><br><span class="line">        导出数据</span><br><span class="line">    &lt;/el-button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">	  headers: &#123;</span><br><span class="line">        Authorization: window.sessionStorage.getItem(&quot;tokenStr&quot;),</span><br><span class="line">      &#125;,</span><br><span class="line">      importDataBtnText: &quot;导入数据&quot;,</span><br><span class="line">      importDataBtnIcon: &quot;el-icon-upload2&quot;,</span><br><span class="line">      importDataDisabled: false,</span><br><span class="line"> 	&#125;</span><br><span class="line">&#125;,</span><br><span class="line"> mounted() &#123;</span><br><span class="line">    this.initEmps();</span><br><span class="line">    this.initData();</span><br><span class="line">    this.initPositions();</span><br><span class="line">  &#125;,</span><br><span class="line"> methods: &#123;</span><br><span class="line">	onSuccess() &#123;</span><br><span class="line">      this.importDataBtnText = &quot;导入数据&quot;;</span><br><span class="line">      this.importDataDisabled = false;</span><br><span class="line">      this.importDataBtnIcon = &quot;el-icon-upload2&quot;;</span><br><span class="line">      console.log(&quot;导入数据成功!&quot;);</span><br><span class="line">      this.initEmps();</span><br><span class="line">    &#125;,</span><br><span class="line">    onError() &#123;</span><br><span class="line">      this.importDataBtnText = &quot;导入数据&quot;;</span><br><span class="line">      this.importDataDisabled = false;</span><br><span class="line">      this.importDataBtnIcon = &quot;el-icon-upload2&quot;;</span><br><span class="line">    &#125;,</span><br><span class="line">    beforeUpload() &#123;</span><br><span class="line">      this.importDataBtnText = &quot;正在导入&quot;;</span><br><span class="line">      this.importDataDisabled = true;</span><br><span class="line">      this.importDataBtnIcon = &quot;el-icon-loading&quot;;</span><br><span class="line">    &#125;,</span><br><span class="line">&lt;!--导出数据--&gt;</span><br><span class="line">    exportData() &#123;</span><br><span class="line">      this.downloadRequest(&quot;/employee/basic/export&quot;);</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="十一、main方法-PC端"><a href="#十一、main方法-PC端" class="headerlink" title="十一、main方法-PC端"></a>十一、main方法-PC端</h1><h2 id="1-云E办-10"><a href="#1-云E办-10" class="headerlink" title="1.云E办"></a>1.云E办</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="comment">//引入路由器</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ElementUI</span> <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span>;</span><br><span class="line"><span class="comment">//导入css图标-导航栏所用</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;font-awesome/css/font-awesome.css&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;element-ui/lib/theme-chalk/index.css&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; postRequest &#125; <span class="keyword">from</span> <span class="string">&quot;./utils/api&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; putRequest &#125; <span class="keyword">from</span> <span class="string">&quot;./utils/api&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; getRequest &#125; <span class="keyword">from</span> <span class="string">&quot;./utils/api&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; deleteRequest &#125; <span class="keyword">from</span> <span class="string">&quot;./utils/api&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; initMenu &#125; <span class="keyword">from</span> <span class="string">&#x27;./utils/menus&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; downloadRequest &#125; <span class="keyword">from</span> <span class="string">&#x27;./utils/download&#x27;</span>;</span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">ElementUI</span>, &#123; <span class="attr">size</span>: <span class="string">&#x27;small&#x27;</span> &#125;);</span><br><span class="line"><span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">postRequest</span> = postRequest;</span><br><span class="line"><span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">putRequest</span> = putRequest;</span><br><span class="line"><span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">getRequest</span> = getRequest;</span><br><span class="line"><span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">deleteRequest</span> = deleteRequest;</span><br><span class="line"><span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">downloadRequest</span> = downloadRequest;</span><br><span class="line"><span class="comment">//路由全局前置守卫(防刷新页面丢失内容)</span></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//获取用户信息</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;tokenStr&#x27;</span>)) &#123;</span><br><span class="line">        <span class="comment">//初始化菜单</span></span><br><span class="line">        <span class="title function_">initMenu</span>(router, store);</span><br><span class="line">        <span class="keyword">if</span> (!<span class="variable language_">window</span>.<span class="property">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;user&#x27;</span>)) &#123;</span><br><span class="line">            <span class="comment">//  判断用户信息是否存在</span></span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">getRequest</span>(<span class="string">&#x27;/admin/info&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">resp</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (resp) &#123;</span><br><span class="line">                    <span class="variable language_">window</span>.<span class="property">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;user&#x27;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(resp));</span><br><span class="line">                    <span class="comment">// this.$store.commit(&#x27;INIT_ADMIN&#x27;, resp);</span></span><br><span class="line">                    <span class="comment">/* 其他不用看,只有这一行-----------------&gt;使用编辑更新信息 */</span></span><br><span class="line">                    store.<span class="title function_">commit</span>(<span class="string">&quot;INIT_ADMIN&quot;</span>, resp);</span><br><span class="line">                    <span class="title function_">next</span>();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_">next</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">//判断去的页面是否登录页面</span></span><br><span class="line">        <span class="keyword">if</span> (to.<span class="property">path</span> == <span class="string">&#x27;/&#x27;</span>) &#123;</span><br><span class="line">            <span class="title function_">next</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="title function_">next</span>(<span class="string">&#x27;/?redirect=&#x27;</span> + to.<span class="property">path</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    router,</span><br><span class="line">    store,</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>)</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h1 id="十二、拦截器-PC端"><a href="#十二、拦截器-PC端" class="headerlink" title="十二、拦截器-PC端"></a>十二、拦截器-PC端</h1><h2 id="1-云E办-11"><a href="#1-云E办-11" class="headerlink" title="1.云E办"></a>1.云E办</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Loading</span>, <span class="title class_">Message</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="comment">//  请求拦截器</span></span><br><span class="line">axios.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(<span class="function"><span class="params">success</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;tokenStr&#x27;</span>)) &#123;</span><br><span class="line">        success.<span class="property">headers</span>[<span class="string">&#x27;Authorization&#x27;</span>] = <span class="variable language_">window</span>.<span class="property">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;tokenStr&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> success;</span><br><span class="line">&#125;, <span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 响应拦截器</span></span><br><span class="line">axios.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(<span class="function"><span class="params">success</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (success.<span class="property">status</span> &amp;&amp; success.<span class="property">status</span> == <span class="number">200</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (success.<span class="property">data</span>.<span class="property">code</span> == <span class="number">500</span> || success.<span class="property">data</span>.<span class="property">data</span> == <span class="number">401</span> || success.<span class="property">data</span>.<span class="property">code</span> == <span class="number">403</span>) &#123;</span><br><span class="line">            <span class="title class_">Message</span>.<span class="title function_">error</span>(&#123; <span class="attr">message</span>: success.<span class="property">data</span>.<span class="property">message</span> &#125;);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (success.<span class="property">data</span>.<span class="property">message</span>) &#123;</span><br><span class="line">            <span class="title class_">Message</span>.<span class="title function_">success</span>(&#123; <span class="attr">message</span>: success.<span class="property">data</span>.<span class="property">message</span> &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> success.<span class="property">data</span>;</span><br><span class="line">&#125;, <span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (error.<span class="property">response</span>.<span class="property">code</span> == <span class="number">504</span> || error.<span class="property">response</span>.<span class="property">code</span> == <span class="number">404</span>) &#123;</span><br><span class="line">        <span class="title class_">Message</span>.<span class="title function_">error</span>(&#123; <span class="attr">message</span>: <span class="string">&quot;服务器被吃了!&quot;</span> &#125;);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (error.<span class="property">response</span>.<span class="property">code</span> == <span class="number">403</span>) &#123;</span><br><span class="line">        <span class="title class_">Message</span>.<span class="title function_">error</span>(&#123; <span class="attr">message</span>: <span class="string">&quot;权限不足,请联系管理员!&quot;</span> &#125;)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (error.<span class="property">response</span>.<span class="property">code</span> == <span class="number">401</span>) &#123;</span><br><span class="line">        <span class="title class_">Message</span>.<span class="title function_">error</span>(&#123; <span class="attr">message</span>: <span class="string">&quot;没有登录,请进行登录&quot;</span> &#125;);</span><br><span class="line">        router.<span class="title function_">replace</span>(<span class="string">&#x27;/&#x27;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (error.<span class="property">response</span>.<span class="property">data</span>.<span class="property">message</span>) &#123;</span><br><span class="line">            <span class="title class_">Message</span>.<span class="title function_">error</span>(&#123; <span class="attr">message</span>: error.<span class="property">response</span>.<span class="property">data</span>.<span class="property">message</span> &#125;)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="title class_">Message</span>.<span class="title function_">error</span>(&#123; <span class="attr">message</span>: <span class="string">&#x27;未知错误&#x27;</span> &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">let</span> base = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="comment">//  传送json格式的post请求</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">postRequest</span> = (<span class="params">url, params</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">axios</span>(&#123;</span><br><span class="line">        <span class="attr">method</span>: <span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">        <span class="attr">url</span>: <span class="string">`<span class="subst">$&#123;base&#125;</span><span class="subst">$&#123;url&#125;</span>`</span>,</span><br><span class="line">        <span class="attr">data</span>: params</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">putRequest</span> = (<span class="params">url, params</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">axios</span>(&#123;</span><br><span class="line">        <span class="attr">method</span>: <span class="string">&#x27;put&#x27;</span>,</span><br><span class="line">        <span class="attr">url</span>: <span class="string">`<span class="subst">$&#123;base&#125;</span><span class="subst">$&#123;url&#125;</span>`</span>,</span><br><span class="line">        <span class="attr">data</span>: params</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getRequest</span> = (<span class="params">url, params</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">axios</span>(&#123;</span><br><span class="line">        <span class="attr">method</span>: <span class="string">&#x27;get&#x27;</span>,</span><br><span class="line">        <span class="attr">url</span>: <span class="string">`<span class="subst">$&#123;base&#125;</span><span class="subst">$&#123;url&#125;</span>`</span>,</span><br><span class="line">        <span class="attr">data</span>: params,</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">deleteRequest</span> = (<span class="params">url, params</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">axios</span>(&#123;</span><br><span class="line">        <span class="attr">method</span>: <span class="string">&#x27;delete&#x27;</span>,</span><br><span class="line">        <span class="attr">url</span>: <span class="string">`<span class="subst">$&#123;base&#125;</span><span class="subst">$&#123;url&#125;</span>`</span>,</span><br><span class="line">        params,</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="十三、路由器-PC端"><a href="#十三、路由器-PC端" class="headerlink" title="十三、路由器-PC端"></a>十三、路由器-PC端</h1><h2 id="1-云E办-12"><a href="#1-云E办-12" class="headerlink" title="1.云E办"></a>1.云E办</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; getRequest &#125; <span class="keyword">from</span> <span class="string">&quot;./api&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">initMenu</span> = (<span class="params">router, store</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (store.<span class="property">state</span>.<span class="property">routes</span>.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//获取菜单数据</span></span><br><span class="line">    <span class="title function_">getRequest</span>(<span class="string">&quot;/system/cfg/menu&quot;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (data) &#123;</span><br><span class="line">            <span class="comment">//  格式化Router</span></span><br><span class="line">            <span class="keyword">let</span> fmtRoutes = <span class="title function_">formatRoutes</span>(data);</span><br><span class="line">            <span class="comment">// 添加到路由</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">let</span> x <span class="keyword">of</span> fmtRoutes) &#123;</span><br><span class="line">                router.<span class="title function_">addRoute</span>(x)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//将数据存入vuex</span></span><br><span class="line">            store.<span class="title function_">commit</span>(<span class="string">&#x27;initRoutes&#x27;</span>, fmtRoutes);</span><br><span class="line">            store.<span class="title function_">dispatch</span>(<span class="string">&#x27;connect&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//  routes是从后端接收过来的data数据</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">formatRoutes</span> = (<span class="params">routes</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> fmtRoutes = [];</span><br><span class="line">    routes.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> &#123;</span><br><span class="line">            path,</span><br><span class="line">            component,</span><br><span class="line">            name,</span><br><span class="line">            iconCls,</span><br><span class="line">            children</span><br><span class="line">        &#125; = item;</span><br><span class="line">        <span class="keyword">if</span> (children &amp;&amp; children <span class="keyword">instanceof</span> <span class="title class_">Array</span>) &#123;</span><br><span class="line">            <span class="comment">// 递归</span></span><br><span class="line">            children = <span class="title function_">formatRoutes</span>(children);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">let</span> fmRouter = &#123;</span><br><span class="line">            <span class="attr">path</span>: path,</span><br><span class="line">            <span class="attr">name</span>: name,</span><br><span class="line">            <span class="attr">iconCls</span>: iconCls,</span><br><span class="line">            <span class="attr">children</span>: children,</span><br><span class="line">            <span class="comment">//导航菜单工具类</span></span><br><span class="line">            <span class="title function_">component</span>(<span class="params">resolve</span>) &#123;</span><br><span class="line">                <span class="comment">//获取对应的组件</span></span><br><span class="line">                <span class="keyword">if</span> (component.<span class="title function_">startsWith</span>(<span class="string">&#x27;Home&#x27;</span>)) &#123;</span><br><span class="line">                    <span class="built_in">require</span>([<span class="string">&#x27;../views/&#x27;</span> + component + <span class="string">&#x27;.vue&#x27;</span>], resolve);</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (component.<span class="title function_">startsWith</span>(<span class="string">&#x27;Emp&#x27;</span>)) &#123;</span><br><span class="line">                    <span class="built_in">require</span>([<span class="string">&#x27;../views/emp/&#x27;</span> + component + <span class="string">&#x27;.vue&#x27;</span>], resolve);</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (component.<span class="title function_">startsWith</span>(<span class="string">&#x27;Per&#x27;</span>)) </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        fmtRoutes.<span class="title function_">push</span>(fmRouter)</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> fmtRoutes;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="十四、常用语法-PC端"><a href="#十四、常用语法-PC端" class="headerlink" title="十四、常用语法-PC端"></a>十四、常用语法-PC端</h1><h2 id="1-云E办-13"><a href="#1-云E办-13" class="headerlink" title="1.云E办"></a>1.云E办</h2><p>1.输入不能为空时提示规则</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">data() &#123;</span><br><span class="line">   return &#123;</span><br><span class="line">     rules: &#123;</span><br><span class="line">       username: [&#123; required: true, message: &quot;请输入用户名&quot;, trigger: &quot;blur&quot; &#125;,],</span><br><span class="line">       password: [&#123; required: true, message: &quot;请输入密码&quot;, trigger: &quot;blur&quot; &#125;],</span><br><span class="line">       code: [&#123; required: true, message: &quot;请输入验证码&quot;, trigger: &quot;blur&quot; &#125;],</span><br><span class="line">     &#125;,</span><br><span class="line">   &#125;;</span><br><span class="line"> &#125;,</span><br></pre></td></tr></table></figure>
<p>2.前后端调用信息接口initPositions</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line">//前后端调用信息接口initPositions</span><br><span class="line">    initPositions() &#123;</span><br><span class="line">      this.getRequest(&quot;/system/basic/position/list&quot;).then((resp) =&gt; &#123;</span><br><span class="line">        if (resp) &#123;</span><br><span class="line">          this.positions = resp;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</article><div class="post-copyright"><div class="post-copyright__title"><span class="post-copyright-info"><h>vue基础快速上手</h></span></div><div class="post-copyright__type"><span class="post-copyright-info"><a href="https://www.fixbox.top/2024/01/22/2-8-vue%E5%9F%BA%E7%A1%80%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/">https://www.fixbox.top/2024/01/22/2-8-vue基础快速上手/</a></span></div><div class="post-copyright-m"><div class="post-copyright-m-info"><div class="post-copyright-a"><h>作者</h><div class="post-copyright-cc-info"><h>Fylasd</h></div></div><div class="post-copyright-c"><h>发布于</h><div class="post-copyright-cc-info"><h>2024-01-22</h></div></div><div class="post-copyright-u"><h>更新于</h><div class="post-copyright-cc-info"><h>2024-01-22</h></div></div><div class="post-copyright-c"><h>许可协议</h><div class="post-copyright-cc-info"><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a rel="noopener" target="_blank" title="CC BY-NC-SA 4.0" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></div></div></div></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/vue%E5%9F%BA%E7%A1%80%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/">vue基础快速上手</a></div><div class="post_share"><div class="social-share" data-image="https://img2.baidu.com/it/u=3725066843,1857864369&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=500&amp;h=500" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/01/22/2-7-webpack%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="webpack基础学习笔记"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">webpack基础学习笔记</div></div></a></div><div class="next-post pull-right"><a href="/2024/01/22/3-2-SQL%E6%95%B0%E6%8D%AE%E5%BA%93/" title="SQL数据库"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">SQL数据库</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img2.baidu.com/it/u=3725066843,1857864369&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=500&amp;h=500" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Fylasd</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">22</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">22</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/"><i class="fab fa-github"></i><span>前往小家</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/xxxxx" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:xxxxxx@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来到博客空间</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Vue%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B"><span class="toc-text">Vue快速上手</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Vue%E7%AE%80%E4%BB%8B"><span class="toc-text">1. Vue简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Vue2-3%E5%AE%89%E8%A3%85"><span class="toc-text">2. Vue2-3安装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%B7%98%E5%AE%9D-NPM-%E9%95%9C%E5%83%8F"><span class="toc-text">使用淘宝**NPM 镜像**</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-Vue2-3%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA"><span class="toc-text">3.Vue2-3项目创建</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E5%B8%B8%E7%94%A8npm"><span class="toc-text">4.常用npm</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#vue%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-text">*vue知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#vue%E9%A1%B9%E7%9B%AE%E9%80%9A%E7%94%A8"><span class="toc-text">*vue项目通用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E5%AF%BC%E8%88%AA%E5%99%A8"><span class="toc-text">*选择导航器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%BE%E6%A0%87"><span class="toc-text">*图标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD"><span class="toc-text">*登录功能</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BB%E7%95%8C%E9%9D%A2"><span class="toc-text">*主界面</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E6%A1%86"><span class="toc-text">*选择框</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6"><span class="toc-text">*组件</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%B1%95%E7%A4%BA%E4%BF%A1%E6%81%AF-PC%E7%AB%AF"><span class="toc-text">一、展示信息-PC端</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E4%BA%91E%E5%8A%9E"><span class="toc-text">1. 云E办</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E8%A1%A8%E6%A0%BC%E9%A1%B5%E9%9D%A2%E7%BC%96%E8%BE%91"><span class="toc-text">1.1 表格页面编辑</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E6%BF%80%E6%B4%BB%E4%BF%A1%E6%81%AF-PC%E7%AB%AF"><span class="toc-text">二、激活信息-PC端</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E4%BA%91E%E5%8A%9E-1"><span class="toc-text">1.云E办</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E5%8D%A1%E7%89%87%E7%94%A8%E6%88%B7%E8%A7%92%E8%89%B2"><span class="toc-text">1.1 卡片用户角色</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E6%90%9C%E7%B4%A2%E4%BF%A1%E6%81%AF-PC%E7%AB%AF"><span class="toc-text">三、搜索信息-PC端</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E4%BA%91E%E5%8A%9E-2"><span class="toc-text">1. 云E办</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E8%87%AA%E5%8A%A8%E6%8F%90%E7%A4%BA%E6%90%9C%E7%B4%A2"><span class="toc-text">1.1 自动提示搜索</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E7%94%A8%E6%88%B7%E5%90%8D%E6%90%9C%E7%B4%A2"><span class="toc-text">1.2 用户名搜索</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E9%AB%98%E7%BA%A7%E7%94%A8%E6%88%B7%E5%90%8D%E6%90%9C%E7%B4%A2"><span class="toc-text">1.2 高级用户名搜索</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E6%B7%BB%E5%8A%A0%E4%BF%A1%E6%81%AF-PC%E7%AB%AF"><span class="toc-text">四、添加信息-PC端</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E4%BA%91E%E5%8A%9E-3"><span class="toc-text">1. 云E办</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E6%B7%BB%E5%8A%A0%E5%B7%A5%E8%B5%84%E8%B4%A6%E5%A5%97"><span class="toc-text">1.1 添加工资账套</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E7%BC%96%E8%BE%91%E4%BF%A1%E6%81%AF-PC%E7%AB%AF"><span class="toc-text">五、编辑信息-PC端</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E4%BA%91E%E5%8A%9E-4"><span class="toc-text">1. 云E办</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E4%BF%AE%E6%94%B9%E4%B8%AA%E4%BA%BA%E4%BF%A1%E6%81%AF"><span class="toc-text">1.1 修改个人信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81"><span class="toc-text">1.2 修改密码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-%E7%BC%96%E8%BE%91%E4%B8%AA%E4%BA%BA%E5%A4%B4%E5%83%8F"><span class="toc-text">1.3 编辑个人头像</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-%E7%BC%96%E8%BE%91%E5%B7%A5%E8%B5%84%E8%81%8C%E4%BD%8D"><span class="toc-text">1.4 编辑工资职位</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-5-%E7%BC%96%E8%BE%91%E7%BC%96%E5%8F%B7%E8%B4%A6%E5%A5%97"><span class="toc-text">1.5 编辑编号账套</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E5%88%A0%E9%99%A4%E4%BF%A1%E6%81%AF-PC%E7%AB%AF"><span class="toc-text">六、删除信息-PC端</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E4%BA%91E%E5%8A%9E-5"><span class="toc-text">1. 云E办</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E5%BC%B9%E5%87%BA%E5%88%A0%E9%99%A4"><span class="toc-text">1.1 弹出删除</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E6%89%B9%E9%87%8F%E5%88%A0%E9%99%A4"><span class="toc-text">1.2 批量删除</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%83%E3%80%81%E8%81%8A%E5%A4%A9%E8%AE%B0%E5%BD%95-PC%E7%AB%AF"><span class="toc-text">七、聊天记录-PC端</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E4%BA%91E%E5%8A%9E-6"><span class="toc-text">1.云E办</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%AB%E3%80%81%E6%9B%B4%E6%96%B0%E4%BF%A1%E6%81%AF-PC%E7%AB%AF"><span class="toc-text">八、更新信息-PC端</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E4%BA%91E%E5%8A%9E-7"><span class="toc-text">1.云E办</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E5%8D%A1%E7%89%87%E7%A6%81%E7%94%A8%E7%94%A8%E6%88%B7%E7%8A%B6%E6%80%81"><span class="toc-text">1.1 卡片禁用用户状态</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B9%9D%E3%80%81%E5%89%8D%E5%90%8E%E6%8E%A5%E5%8F%A3-PC%E7%AB%AF"><span class="toc-text">九、前后接口-PC端</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E4%BA%91E%E5%8A%9E-8"><span class="toc-text">1.云E办</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E8%AF%B7%E6%B1%82%E5%A4%B4host"><span class="toc-text">1.1 请求头host</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E8%AF%B7%E6%B1%82%E5%A4%B4host%E8%AE%BE%E7%BD%AEtarget"><span class="toc-text">1.2 请求头host设置target</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%81%E3%80%81%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA-PC%E7%AB%AF"><span class="toc-text">十、导入导出-PC端</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%91%A0%E4%BD%BF%E7%94%A8%E5%AF%BC%E5%87%BA%E5%AF%BC%E5%85%A5"><span class="toc-text">①使用导出导入</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E4%BA%91E%E5%8A%9E-9"><span class="toc-text">1.云E办</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E5%AF%BC%E5%87%BA%E5%AF%BC%E5%85%A5"><span class="toc-text">1.1 导出导入</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%81%E4%B8%80%E3%80%81main%E6%96%B9%E6%B3%95-PC%E7%AB%AF"><span class="toc-text">十一、main方法-PC端</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E4%BA%91E%E5%8A%9E-10"><span class="toc-text">1.云E办</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%81%E4%BA%8C%E3%80%81%E6%8B%A6%E6%88%AA%E5%99%A8-PC%E7%AB%AF"><span class="toc-text">十二、拦截器-PC端</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E4%BA%91E%E5%8A%9E-11"><span class="toc-text">1.云E办</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%81%E4%B8%89%E3%80%81%E8%B7%AF%E7%94%B1%E5%99%A8-PC%E7%AB%AF"><span class="toc-text">十三、路由器-PC端</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E4%BA%91E%E5%8A%9E-12"><span class="toc-text">1.云E办</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%81%E5%9B%9B%E3%80%81%E5%B8%B8%E7%94%A8%E8%AF%AD%E6%B3%95-PC%E7%AB%AF"><span class="toc-text">十四、常用语法-PC端</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E4%BA%91E%E5%8A%9E-13"><span class="toc-text">1.云E办</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2024 - 2025 By Fylasd</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button><button id="go-down" type="button" title="直达底部" onclick="btf.scrollToDest(document.body.scrollHeight, 500)"><i class="fas fa-arrow-down"></i></button></div></div><div><script src="/js/utils.js?v=4.12.0"></script><script src="/js/main.js?v=4.12.0"></script><script src="/js/tw_cn.js?v=4.12.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.32/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"></div><canvas id="universe"></canvas><script defer src="/js/universe.js"></script><script async src="https://npm.elemecdn.com/tzy-blog/lib/js/other/sakura.js"></script><script defer src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script><script defer data-pjax src="/js/cat.js"></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/fireworks.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.12.0"></script></div></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_clock_anzhiyu_injector_config(){
    var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
    var item_html = '<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>';
    console.log('已挂载butterfly_clock_anzhiyu')
    if(parent_div_git) {
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = '/';
  var qweather_key = 'b16a1fa0e63c46a4b8f28abfb06ae3fe';
  var gaud_map_key = 'e2b04289e870b005374ee030148d64fd&s=rsv3';
  var baidu_ak_key = 'undefined';
  var flag = 0;
  var clock_rectangle = '113.34532,23.15624';
  var clock_default_rectangle_enable = 'true';

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_clock_anzhiyu_injector_config();
  }
  else if (epage === cpage){
    butterfly_clock_anzhiyu_injector_config();
  }
  </script><script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script><script data-pjax src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.js"></script><script data-pjax>
    function butterfly_categories_card_injector_config(){
      var parent_div_git = document.getElementById('recent-posts');
      var item_html = '<style>li.categoryBar-list-item{width:32.3%;}.categoryBar-list{max-height: 190px;overflow:auto;}.categoryBar-list::-webkit-scrollbar{width:0!important}@media screen and (max-width: 650px){.categoryBar-list{max-height: 160px;}}</style><div class="recent-post-item" style="height:auto;width:100%;padding:0px;"><div id="categoryBar"><ul class="categoryBar-list"><li class="categoryBar-list-item" style="background:url(https://assets.akilar.top/image/cover1.webp);"> <a class="categoryBar-list-link" href="categories/腾讯广告/">腾讯广告</a><span class="categoryBar-list-count">2</span><span class="categoryBar-list-descr">Ubuntu指南</span></li><li class="categoryBar-list-item" style="background:url(https://assets.akilar.top/image/cover2.webp);"> <a class="categoryBar-list-link" href="categories/web前端/">web前端</a><span class="categoryBar-list-count">11</span><span class="categoryBar-list-descr">玩转Win10</span></li><li class="categoryBar-list-item" style="background:url(https://assets.akilar.top/image/cover3.webp);"> <a class="categoryBar-list-link" href="categories/Linux/">Linux</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">长篇小说连载</span></li><li class="categoryBar-list-item" style="background:url(https://assets.akilar.top/image/cover4.webp);"> <a class="categoryBar-list-link" href="categories/SQL数据库/">SQL数据库</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">个人日记</span></li><li class="categoryBar-list-item" style="background:url(https://assets.akilar.top/image/cover5.webp);"> <a class="categoryBar-list-link" href="categories/Python/">Python</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">诗词歌赋</span></li><li class="categoryBar-list-item" style="background:url(https://assets.akilar.top/image/cover6.webp);"> <a class="categoryBar-list-link" href="categories/软件测试/">软件测试</a><span class="categoryBar-list-count">6</span><span class="categoryBar-list-descr">杂谈教程</span></li></ul></div></div>';
      console.log('已挂载butterfly_categories_card')
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
      }
    if( document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
    butterfly_categories_card_injector_config()
    }
  </script><script async src="//at.alicdn.com/t/font_2032782_8d5kxvn09md.js"></script><script data-pjax>
  function butterfly_footer_beautify_injector_config(){
    var parent_div_git = document.getElementById('footer-wrap');
    var item_html = '<div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo_v6.2.0" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" data-title="主题版本Butterfly_v4.3.1" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender" alt=""/></a><a class="github-badge" target="_blank" href="https://vercel.com/" style="margin-inline:5px" data-title="本站采用多线部署，主线路托管于Vercel" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Hosted-Vercel-brightgreen?style=flat&amp;logo=Vercel" alt=""/></a><a class="github-badge" target="_blank" href="https://dashboard.4everland.org/" style="margin-inline:5px" data-title="本站采用多线部署，备用线路托管于4EVERLAND" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Hosted-4EVERLAND-22DDDD?style=flat&amp;logo=IPFS" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" data-title="本站项目由Github托管" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" alt=""/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" alt=""/></a></p>';
    console.log('已挂载butterfly_footer_beautify')
    parent_div_git.insertAdjacentHTML("beforeend",item_html)
    }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_footer_beautify_injector_config();
  }
  else if (epage === cpage){
    butterfly_footer_beautify_injector_config();
  }
  </script><script async src="https://unpkg.zhimg.com/hexo-butterfly-footer-beautify@1.0.0/lib/runtime.min.js"></script><div class="js-pjax"><script async="async">var arr = document.getElementsByClassName('recent-post-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '2s');
    arr[i].setAttribute('data-wow-delay', '1s');
    arr[i].setAttribute('data-wow-offset', '100');
    arr[i].setAttribute('data-wow-iteration', '2');
  }</script><script async="async">var arr = document.getElementsByClassName('card-widget');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script></div><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js"></script><!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"left","width":90,"height":180},"mobile":{"show":false},"log":false});</script></body></html>